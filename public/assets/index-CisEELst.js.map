{"version":3,"file":"index-CisEELst.js","sources":["../../src/lib/utils.ts","../../src/components/ui/alert.tsx","../../src/components/ui/button.tsx","../../src/components/ui/card.tsx","../../src/components/ui/input.tsx","../../src/components/ui/label.tsx","../../src/hooks/use-toast.ts","../../src/utils/makeHttpCall.ts","../../src/components/auth/AuthForm.tsx","../../src/components/auth/ResetPass.tsx","../../src/components/ui/sonner.tsx","../../src/components/ui/toast.tsx","../../src/components/ui/toaster.tsx","../../src/components/ui/tooltip.tsx","../../src/contexts/ThemeContext.tsx","../../src/components/AddSetToClassDialog.tsx","../../src/components/ClassDetailControls.tsx","../../src/utils/EditableField.tsx","../../src/components/ClassDetailHeader.tsx","../../src/components/ClassDetailTabs.tsx","../../src/components/FlashCard.tsx","../../src/components/ui/carousel.tsx","../../src/components/FlashcardSetList.tsx","../../src/components/FlashcardTab.tsx","../../src/components/Footer.tsx","../../src/components/Leaderboard.tsx","../../src/components/LeaderboardTab.tsx","../../src/components/Navbar.tsx","../../src/components/StudentList.tsx","../../src/components/StudentTab.tsx","../../src/pages/ClassDetail.tsx","../../src/pages/CreateClass.tsx","../../src/pages/CreateSet.tsx","../../src/components/edit-set/FlashcardListEditor.tsx","../../src/components/edit-set/SetMetadataEditor.tsx","../../src/pages/EditSet.tsx","../../src/pages/Flashcard.tsx","../../src/pages/Home.tsx","../../src/pages/Index.tsx","../../src/pages/NotFound.tsx","../../src/pages/PublicCards.tsx","../../src/pages/PublicClasses.tsx","../../src/pages/SetOverview.tsx","../../src/pages/TeacherDashboard.tsx","../../src/utils/InfoRow.tsx","../../src/components/UserAccountFirstRow.tsx","../../src/components/UserAccountSecondRow.tsx","../../src/pages/UserAccount.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n","import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","import * as React from 'react';\n\nimport type { ToastActionElement, ToastProps } from '@/components/ui/toast';\n\nconst TOAST_LIMIT = 1;\nconst TOAST_REMOVE_DELAY = 1000000;\n\ntype ToasterToast = ToastProps & {\n  id: string;\n  title?: React.ReactNode;\n  description?: React.ReactNode;\n  action?: ToastActionElement;\n};\n\nconst actionTypes = {\n  ADD_TOAST: 'ADD_TOAST',\n  UPDATE_TOAST: 'UPDATE_TOAST',\n  DISMISS_TOAST: 'DISMISS_TOAST',\n  REMOVE_TOAST: 'REMOVE_TOAST',\n} as const;\n\nlet count = 0;\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER;\n  return count.toString();\n}\n\ntype ActionType = typeof actionTypes;\n\ntype Action =\n  | {\n      type: ActionType['ADD_TOAST'];\n      toast: ToasterToast;\n    }\n  | {\n      type: ActionType['UPDATE_TOAST'];\n      toast: Partial<ToasterToast>;\n    }\n  | {\n      type: ActionType['DISMISS_TOAST'];\n      toastId?: ToasterToast['id'];\n    }\n  | {\n      type: ActionType['REMOVE_TOAST'];\n      toastId?: ToasterToast['id'];\n    };\n\ninterface State {\n  toasts: ToasterToast[];\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>();\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return;\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId);\n    dispatch({\n      type: 'REMOVE_TOAST',\n      toastId: toastId,\n    });\n  }, TOAST_REMOVE_DELAY);\n\n  toastTimeouts.set(toastId, timeout);\n};\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case 'ADD_TOAST':\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      };\n\n    case 'UPDATE_TOAST':\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      };\n\n    case 'DISMISS_TOAST': {\n      const { toastId } = action;\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId);\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id);\n        });\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      };\n    }\n    case 'REMOVE_TOAST':\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        };\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      };\n  }\n};\n\nconst listeners: Array<(state: State) => void> = [];\n\nlet memoryState: State = { toasts: [] };\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action);\n  listeners.forEach((listener) => {\n    listener(memoryState);\n  });\n}\n\ntype Toast = Omit<ToasterToast, 'id'>;\n\nfunction toast({ ...props }: Toast) {\n  const id = genId();\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: 'UPDATE_TOAST',\n      toast: { ...props, id },\n    });\n  const dismiss = () => dispatch({ type: 'DISMISS_TOAST', toastId: id });\n\n  dispatch({\n    type: 'ADD_TOAST',\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss();\n      },\n    },\n  });\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  };\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState);\n\n  React.useEffect(() => {\n    listeners.push(setState);\n    return () => {\n      const index = listeners.indexOf(setState);\n      if (index > -1) {\n        listeners.splice(index, 1);\n      }\n    };\n  }, [state]);\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: 'DISMISS_TOAST', toastId }),\n  };\n}\n\nexport { toast, useToast };\n","type HttpMethod = 'GET' | 'POST' | 'PUT' | 'DELETE';\ntype CredentialOptions = 'include' | 'omit' | 'same-origin';\n\n// Interface defining the structure of options that can be passed to fetch requests\ninterface FetchOptions {\n  method: HttpMethod;\n  headers: any;\n  credentials?: CredentialOptions;\n  body?: string; //JSON\n}\n\nconst defaultOpts: FetchOptions = {\n  method: 'GET',\n  headers: {},\n  credentials: 'include', //dev only, remove in prod same origin\n};\n\n// *****************************\n// comment one, uncomment the other:\nconst API_BASE = import.meta.env.VITE_API_BASE_LIVE;\n// const API_BASE = import.meta.env.VITE_API_BASE_LOCAL;\n// *****************************\n\n/**\n * Universal fetch utility for making HTTP requests\n * This is a wrapper around the native fetch API that provides consistent error handling\n * and response parsing\n * Can return any type of data\n *\n * @param url The URL to fetch from\n * @param options Request options including method, headers, and body\n * @returns Promise with the parsed response data\n */\nexport async function makeHttpCall<T>(\n  url: string = '',\n  options: FetchOptions = defaultOpts\n): Promise<T> {\n  const finalOpts = {\n    ...defaultOpts,\n    ...options,\n  };\n  try {\n    // Make the actual HTTP request\n    const response = await fetch(API_BASE + url, finalOpts);\n\n    // Check if the response was successful (status 200-299)\n    if (!response.ok) {\n      console.log('resp', response);\n      // Handle specific auth error types\n      //   if (data.code === 'duplicate_email') {\n      //     throw new Error('This email is already registered');\n      //   } else if (data.code === 'duplicate_username') {\n      //     throw new Error('This username is already taken');\n      //   } else if (data.code === 'invalid_credentials') {\n      //     throw new Error('Invalid email or password');\n      //   } else {\n      //     throw new Error(data.message || 'Authentication failed');\n      //   }\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n\n    // all responses should be json now\n    const data = await response.json();\n    return data as T;\n  } catch (error) {\n    console.error('API request failed:', error);\n    throw error;\n  }\n}\n","import { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Button } from '@/components/ui/button';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { useToast } from '@/components/ui/use-toast';\nimport { makeHttpCall } from '@/utils/makeHttpCall';\nimport { IonButton, IonIcon, useIonRouter } from '@ionic/react';\nimport { AlertCircle, LogIn } from 'lucide-react';\nimport { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport const AuthForm = () => {\n  const [isLogin, setIsLogin] = useState(true);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Login form fields\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  // Additional signup form fields\n  const [username, setUsername] = useState('');\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n\n  // Form validation\n  const [errors, setErrors] = useState<{\n    email?: string;\n    username?: string;\n    password?: string;\n    general?: string;\n  }>({});\n\n  const ionRouter = useIonRouter();\n  const { toast } = useToast();\n\n  // Basic validation before submitting\n  const validateForm = () => {\n    const newErrors: {\n      email?: string;\n      username?: string;\n      password?: string;\n    } = {};\n    let isValid = true;\n\n    // Email validation\n    if (!email) {\n      newErrors.email = 'Email is required';\n      isValid = false;\n    } else if (!/\\S+@\\S+\\.\\S+/.test(email)) {\n      newErrors.email = 'Email is invalid';\n      isValid = false;\n    }\n\n    // Password validation\n    if (!password) {\n      newErrors.password = 'Password is required';\n      isValid = false;\n    } else if (password.length < 8) {\n      newErrors.password = 'Password must be at least 8 characters';\n      isValid = false;\n    }\n\n    // Username validation (only for signup)\n    if (!isLogin && !username) {\n      newErrors.username = 'Username is required';\n      isValid = false;\n    }\n\n    setErrors(newErrors);\n    return isValid;\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    // Validate form before submission\n    if (!validateForm()) {\n      return;\n    }\n\n    setIsLoading(true);\n    setErrors({});\n\n    try {\n      let data;\n\n      if (isLogin) {\n        // Login request\n        data = await makeHttpCall(`/login`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          credentials: 'include',\n          body: JSON.stringify({\n            email,\n            password,\n          }),\n        });\n      } else {\n        // Signup request\n        data = await makeHttpCall(`/signup`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          credentials: 'include',\n          body: JSON.stringify({\n            username,\n            email,\n            password,\n            first_name: firstName,\n            last_name: lastName,\n          }),\n        });\n      }\n\n      // Show success message\n      toast({\n        title: isLogin ? 'Welcome back!' : 'Account created',\n        description: isLogin\n          ? 'You have been successfully logged in.'\n          : 'Your account has been created successfully.',\n      });\n\n      // Navigate to the home page using Ionic's router\n      ionRouter.push('/home');\n    } catch (error) {\n      console.error('Authentication error:', error);\n      setErrors(error);\n\n      // If no specific error was set, set a general error\n      if (Object.keys(errors).length === 0) {\n        setErrors({\n          general:\n            error.message || 'An unexpected error occurred. Please try again.',\n        });\n      }\n\n      toast({\n        title: 'Authentication failed',\n        description:\n          error.message || 'Please check your credentials and try again.',\n        variant: 'destructive',\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const resetForm = () => {\n    setErrors({});\n    if (isLogin) {\n      setUsername('');\n      setFirstName('');\n      setLastName('');\n    } else {\n      setEmail('');\n      setPassword('');\n    }\n  };\n\n  return (\n    <Card className=\"w-[350px]\">\n      <CardHeader>\n        <CardTitle>{isLogin ? 'Welcome back' : 'Create account'}</CardTitle>\n        <CardDescription>\n          {isLogin\n            ? 'Enter your credentials to continue'\n            : 'Sign up for a new account'}\n        </CardDescription>\n      </CardHeader>\n      <form onSubmit={handleSubmit}>\n        <CardContent className=\"space-y-4\">\n          {errors.general && (\n            <Alert variant=\"destructive\" className=\"mb-4\">\n              <AlertCircle className=\"h-4 w-4\" />\n              <AlertDescription>{errors.general}</AlertDescription>\n            </Alert>\n          )}\n\n          {!isLogin && (\n            <>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"username\">Username</Label>\n                <Input\n                  id=\"username\"\n                  type=\"text\"\n                  placeholder=\"johndoe\"\n                  value={username}\n                  onChange={(e) => setUsername(e.target.value)}\n                  required\n                  className={errors.username ? 'border-red-500' : ''}\n                />\n                {errors.username && (\n                  <p className=\"text-red-500 text-xs mt-1\">{errors.username}</p>\n                )}\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"firstName\">First Name</Label>\n                <Input\n                  id=\"firstName\"\n                  type=\"text\"\n                  placeholder=\"John\"\n                  value={firstName}\n                  onChange={(e) => setFirstName(e.target.value)}\n                  required\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"lastName\">Last Name</Label>\n                <Input\n                  id=\"lastName\"\n                  type=\"text\"\n                  placeholder=\"Doe\"\n                  value={lastName}\n                  onChange={(e) => setLastName(e.target.value)}\n                  required\n                />\n              </div>\n            </>\n          )}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"email\">Email</Label>\n            <Input\n              id=\"email\"\n              type=\"email\"\n              placeholder=\"name@example.com\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              required\n              className={errors.email ? 'border-red-500' : ''}\n            />\n            {errors.email && (\n              <p className=\"text-red-500 text-xs mt-1\">{errors.email}</p>\n            )}\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"password\">Password</Label>\n            <Input\n              id=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              required\n              className={errors.password ? 'border-red-500' : ''}\n            />\n            {errors.password && (\n              <p className=\"text-red-500 text-xs mt-1\">{errors.password}</p>\n            )}\n            {!isLogin && (\n              <p className=\"text-xs text-gray-500 mt-1\">\n                Password must be at least 8 characters long\n              </p>\n            )}\n          </div>\n          {isLogin && (\n            <Link to=\"/reset-password\" className=\"text-sm text-purple-500\">\n              Forgot password?\n            </Link>\n          )}\n        </CardContent>\n        <CardFooter className=\"flex flex-col space-y-4\">\n          <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\n            <LogIn className=\"mr-2 h-4 w-4\" />\n            {isLoading\n              ? isLogin\n                ? 'Signing in...'\n                : 'Signing up...'\n              : isLogin\n              ? 'Sign in'\n              : 'Sign up'}\n          </Button>\n          <Button\n            variant=\"link\"\n            type=\"button\"\n            onClick={() => {\n              setIsLogin(!isLogin);\n              resetForm();\n            }}\n            className=\"text-sm\"\n            disabled={isLoading}\n          >\n            {isLogin\n              ? 'Need an account? Sign up'\n              : 'Already have an account? Sign in'}\n          </Button>\n          <IonButton\n            expand=\"block\"\n            fill=\"outline\"\n            className=\"flex items-center justify-center space-x-2\"\n            onClick={() => {\n              // Add your Google sign-in logic here\n              console.log('Sign in with Google clicked');\n            }}\n          >\n            <IonIcon\n              slot=\"start\"\n              src=\"https://www.gstatic.com/marketing-cms/assets/images/d5/dc/cfe9ce8b4425b410b49b7f2dd3f3/g.webp=s96-fcrop64=1,00000000ffffffff-rw\"\n              className=\"h-5 w-5\"\n            />\n            <p></p>\n            Sign in with Google\n            <img\n              slot=\"start\"\n              src=\"https://www.gstatic.com/marketing-cms/assets/images/d5/dc/cfe9ce8b4425b410b49b7f2dd3f3/g.webp=s96-fcrop64=1,00000000ffffffff-rw\"\n              className=\"h-10 w-10\"\n            />\n          </IonButton>\n        </CardFooter>\n      </form>\n    </Card>\n  );\n};\n","import { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Button } from '@/components/ui/button';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { AlertCircle } from 'lucide-react';\nimport { useState } from 'react';\n\nconst ResetPass = () => {\n  const [email, setEmail] = useState('');\n  const [errors, setErrors] = useState<{ email?: string; general?: string }>(\n    {}\n  );\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    // Placeholder for form submission logic\n  };\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-gray-100\">\n      <Card className=\"w-[350px]\">\n        <CardHeader>\n          <CardTitle>Reset Password</CardTitle>\n          <CardDescription>\n            Enter your email to reset your password\n          </CardDescription>\n        </CardHeader>\n        <form onSubmit={handleSubmit}>\n          <CardContent className=\"space-y-4\">\n            {errors.general && (\n              <Alert variant=\"destructive\" className=\"mb-4\">\n                <AlertCircle className=\"h-4 w-4\" />\n                <AlertDescription>{errors.general}</AlertDescription>\n              </Alert>\n            )}\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email\">Email</Label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                placeholder=\"name@example.com\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n                className={errors.email ? 'border-red-500' : ''}\n              />\n              {errors.email && (\n                <p className=\"text-red-500 text-xs mt-1\">{errors.email}</p>\n              )}\n            </div>\n          </CardContent>\n          <CardFooter className=\"flex flex-col space-y-4\">\n            <Button type=\"submit\" className=\"w-full\">\n              Send Reset Link\n            </Button>\n          </CardFooter>\n        </form>\n      </Card>\n    </div>\n  );\n};\n\nexport default ResetPass;\n","import { useTheme } from \"next-themes\"\nimport { Toaster as Sonner } from \"sonner\"\n\ntype ToasterProps = React.ComponentProps<typeof Sonner>\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  const { theme = \"system\" } = useTheme()\n\n  return (\n    <Sonner\n      theme={theme as ToasterProps[\"theme\"]}\n      className=\"toaster group\"\n      toastOptions={{\n        classNames: {\n          toast:\n            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n          description: \"group-[.toast]:text-muted-foreground\",\n          actionButton:\n            \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n          cancelButton:\n            \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\n        },\n      }}\n      {...props}\n    />\n  )\n}\n\nexport { Toaster }\n","import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","import * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","import { createContext, useContext, useEffect, useState } from 'react';\n\ntype Theme = 'light' | 'dark';\n\ninterface ThemeContextType {\n  theme: Theme;\n  setTheme: (theme: Theme) => void;\n}\n\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\nexport function ThemeProvider({ children }: { children: React.ReactNode }) {\n  const [theme, setTheme] = useState<Theme>(() => {\n    // Check localStorage first\n    const savedTheme = localStorage.getItem('theme') as Theme;\n    if (savedTheme) return savedTheme;\n\n    // Fall back to system preference\n    return window.matchMedia('(prefers-color-scheme: dark)').matches\n      ? 'dark'\n      : 'light';\n  });\n\n  useEffect(() => {\n    // Update localStorage\n    localStorage.setItem('theme', theme);\n\n    // Update DOM\n    if (theme === 'dark') {\n      document.documentElement.classList.add('dark');\n      document.body.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n      document.body.classList.remove('dark');\n    }\n  }, [theme]);\n\n  return (\n    <ThemeContext.Provider value={{ theme, setTheme }}>\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\nexport function useTheme() {\n  const context = useContext(ThemeContext);\n  if (context === undefined) {\n    throw new Error('useTheme must be used within a ThemeProvider');\n  }\n  return context;\n}\n","/**\n * @file src/components/class-detail/AddSetToClassDialog.tsx\n * Purpose: Provides a dialog modal for teachers to add existing flashcard sets to the current class.\n */\nimport { SetUser } from '@/types/flashcards'; // Assuming this type exists and includes ID\nimport { makeHttpCall } from '@/utils/makeHttpCall';\nimport {\n  IonButton,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonItem,\n  IonLabel,\n  IonList,\n  IonModal,\n  IonRadio,\n  IonRadioGroup,\n  IonSpinner,\n  IonText,\n  IonTitle,\n  IonToolbar,\n  useIonToast,\n} from '@ionic/react';\nimport React, { useCallback, useEffect, useState } from 'react';\n\ninterface AddSetToClassDialogProps {\n  isOpen: boolean;\n  onDidDismiss: () => void;\n  classId: string | undefined;\n  existingSetIds: number[]; // IDs of sets already in the class\n  onSetAdded: () => void; // Callback to refresh data in ClassDetail\n}\n\n/**\n * AddSetToClassDialog Component\n *\n * Renders a modal dialog allowing teachers to select one of their owned\n * flashcard sets and add it to the currently viewed class.\n *\n * @param {AddSetToClassDialogProps} props - Component properties.\n * @returns {JSX.Element} The rendered dialog component.\n */\nconst AddSetToClassDialog: React.FC<AddSetToClassDialogProps> = ({\n  isOpen,\n  onDidDismiss,\n  classId,\n  existingSetIds,\n  onSetAdded,\n}) => {\n  const [userSets, setUserSets] = useState<SetUser[]>([]);\n  const [availableSets, setAvailableSets] = useState<SetUser[]>([]);\n  const [selectedSetId, setSelectedSetId] = useState<number | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [presentToast] = useIonToast();\n\n  // Fetch user's sets when the dialog opens\n  const fetchUserSets = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      // Assuming /api/set_user/list returns sets owned/editable by the user\n      const fetchedSets = await makeHttpCall<SetUser[]>(`/api/set_user/list`, {\n        method: 'GET',\n        headers: {},\n      });\n      setUserSets(fetchedSets || []);\n    } catch (err) {\n      console.error('Failed to fetch user sets:', err);\n      setError(\n        `Failed to load your sets: ${\n          err instanceof Error ? err.message : 'Unknown error'\n        }`\n      );\n      setUserSets([]);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  // Effect to fetch sets when the dialog becomes visible\n  useEffect(() => {\n    if (isOpen) {\n      fetchUserSets();\n    } else {\n      // Reset state when dialog closes\n      setUserSets([]);\n      setAvailableSets([]);\n      setSelectedSetId(null);\n      setError(null);\n      setIsLoading(false);\n    }\n  }, [isOpen, fetchUserSets]);\n\n  // Effect to filter available sets once user sets are loaded and existing IDs are known\n  useEffect(() => {\n    const setsNotInClass = userSets.filter(\n      (set) => !existingSetIds.includes(set.SetID)\n    );\n    setAvailableSets(setsNotInClass);\n  }, [userSets, existingSetIds]);\n\n  /**\n   * Handles adding the selected set to the class via API call.\n   */\n  const handleAddSet = async () => {\n    if (!selectedSetId || !classId) {\n      presentToast({\n        message: 'Please select a set to add.',\n        duration: 2000,\n        color: 'warning',\n      });\n      return;\n    }\n    setIsLoading(true);\n    setError(null);\n    try {\n      await makeHttpCall<string>(`/api/class_set/`, {\n        method: 'POST',\n        headers: {\n          id: classId, // This header name might be 'class_id' depending on backend - CHECKING BACKEND now, backend uses 'id' for class id here\n          set_id: selectedSetId.toString(),\n        },\n      });\n      presentToast({\n        message: 'Set added successfully!',\n        duration: 2000,\n        color: 'success',\n      });\n      onSetAdded(); // Trigger refresh in parent\n      onDidDismiss(); // Close the dialog\n    } catch (err) {\n      console.error('Failed to add set to class:', err);\n      const errorMessage = `Failed to add set: ${\n        err instanceof Error ? err.message : 'Unknown error'\n      }`;\n      setError(errorMessage);\n      presentToast({\n        message: errorMessage,\n        duration: 3000,\n        color: 'danger',\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  console.log(selectedSetId);\n\n  console.log('availableSets', availableSets);\n\n  return (\n    <IonModal isOpen={isOpen} onDidDismiss={onDidDismiss}>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>Add Set to Class</IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton onClick={onDidDismiss} color=\"medium\">\n              Cancel\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n        {isLoading && !availableSets.length ? (\n          <div className=\"flex justify-center items-center h-full\">\n            <IonSpinner name=\"circular\" />\n            <span className=\"ml-2\">Loading your sets...</span>\n          </div>\n        ) : error ? (\n          <IonText color=\"danger\">\n            <p>{error}</p>\n          </IonText>\n        ) : availableSets.length === 0 ? (\n          <p className=\"text-center text-gray-500 mt-4\">\n            You have no available sets to add to this class. Create a new set or\n            check if all your sets are already added.\n          </p>\n        ) : (\n          <IonRadioGroup\n            value={selectedSetId}\n            onIonChange={(e) => {\n              console.log('e.detail.value', e.detail.value);\n              setSelectedSetId(Number(e.detail.value));\n            }}\n          >\n            <IonList>\n              {availableSets.map((set) => (\n                <IonItem key={set.SetID}>\n                  <IonRadio slot=\"start\" key={set.SetID} value={set.SetID} />\n                  <IonLabel>\n                    <h2>{set.SetName}</h2>\n                    <p className=\"text-sm text-gray-500\">\n                      {set.SetDescription}\n                    </p>\n                  </IonLabel>\n                </IonItem>\n              ))}\n            </IonList>\n          </IonRadioGroup>\n        )}\n\n        {error && availableSets.length > 0 && (\n          <IonText color=\"danger\" className=\"block mt-4\">\n            <p>{error}</p>\n          </IonText>\n        )}\n      </IonContent>\n      {!isLoading && availableSets.length > 0 && (\n        <div className=\"ion-padding\">\n          <IonButton\n            expand=\"block\"\n            onClick={handleAddSet}\n            disabled={!selectedSetId}\n            className=\"ion-margin-bottom\"\n          >\n            {isLoading ? <IonSpinner name=\"dots\" /> : 'Add Selected Set'}\n          </IonButton>\n        </div>\n      )}\n    </IonModal>\n  );\n};\n\nexport default AddSetToClassDialog;\n","/**\n * @file ClassDetailControls.tsx\n * Purpose: Defines the control buttons component for the Class Detail page.\n * This component will house actions like navigating back or creating related items (e.g., flashcard sets).\n */\n\nimport React from 'react';\nimport { IonButton, IonIcon, IonCardContent } from '@ionic/react';\nimport { arrowBackOutline, createOutline, addOutline } from 'ionicons/icons';\n\n/**\n * Props for the ClassDetailControls component.\n * Props will be added in subsequent steps as needed (e.g., isTeacher, handlers).\n */\ninterface ClassDetailControlsProps {\n  isTeacher: boolean;\n  classId: string | undefined;\n  onAddSetClick: () => void;\n}\n\n/**\n * ClassDetailControls Component\n *\n * Renders the main control buttons for the Class Detail page, such as the\n * 'Back' button and conditional buttons like 'Create Flashcard Set'.\n * The actual buttons and logic will be moved here from ClassDetail.tsx in Step 7.\n *\n * @param {ClassDetailControlsProps} props - Component properties.\n * @returns {JSX.Element} The rendered control buttons component.\n */\nconst ClassDetailControls: React.FC<ClassDetailControlsProps> = ({\n  isTeacher,\n  classId,\n  onAddSetClick,\n}) => {\n  // Render the Back button and, conditionally, the Create Set button.\n  // Using IonCardContent for consistent padding/margin with other sections.\n  return (\n    <IonCardContent>\n      {' '}\n      {/* Wrapper for padding */}\n      <div className=\"flex justify-between items-center mb-4\">\n        {' '}\n        {/* Flex container for alignment */}\n        {/* Back Button */}\n        <IonButton routerLink=\"/home\" color=\"medium\">\n          <IonIcon slot=\"start\" icon={arrowBackOutline} />\n          Back\n        </IonButton>\n        {/* Create Set Button (Only for Teachers) */}\n        {isTeacher && (\n          <div className=\"flex gap-2\">\n            {/* Add Existing Set Button */}\n            <IonButton\n              onClick={onAddSetClick}\n              color=\"secondary\"\n              disabled={!classId} // Disable if classId isn't available yet\n            >\n              {/* TODO: Fix colors on this button */}\n              <IonIcon slot=\"start\" icon={addOutline} />\n              Add Existing Set\n            </IonButton>\n\n            {/* Create New Set Button */}\n            {/* TODO: Confirm create-set route and query param handling */}\n            <IonButton\n              routerLink={`/create-set?classId=${classId}`}\n              color=\"primary\"\n              disabled={!classId} // Disable if classId isn't available yet\n            >\n              <IonIcon slot=\"start\" icon={createOutline} />\n              Create New Set\n            </IonButton>\n          </div>\n        )}\n      </div>\n    </IonCardContent>\n  );\n};\n\nexport default ClassDetailControls;\n","import { IonInput, IonItem, IonLabel } from \"@ionic/react\";\n\nexport const EditableField = (props) => {\n  return (\n    <div>\n      <IonItem>\n        <IonInput\n          type=\"text\" // TODO: Make this a prop\n          label={props.label}\n          name={props.name}\n          value={props.value}\n          onIonChange={props.onChange}\n        />\n      </IonItem>\n      {props.error && <p className=\"text-red-500 text-xs mt-1\">{props.error}</p>}\n    </div>\n  );\n};\n","/**\n * @file ClassDetailHeader.tsx\n * Purpose: Defines the header component for the Class Detail page.\n * This component is responsible for displaying the class name, description,\n * and handling the editing functionality for these fields. It contains both\n * the display view (when not editing) and the editing form (when editing).\n */\n\nimport React from 'react';\nimport { IonButton, IonIcon } from '@ionic/react';\nimport { createOutline } from 'ionicons/icons';\nimport { EditableField } from '@/utils/EditableField';\n\n// Define the structure for Class data, mirroring the one in ClassDetail.tsx\n// TODO: Consider moving this type to a shared types file (e.g., src/types/index.ts)\n//       to avoid duplication and maintain consistency.\ntype Class = {\n  ID: number;\n  ClassName: string;\n  ClassDescription: string;\n  CreatedAt: string; // Keep for potential future use\n  UpdatedAt: string; // Keep for potential future use\n  Role: string; // Keep for potential future use (though isTeacher prop is derived from this)\n};\n\n/**\n * Props for the ClassDetailHeader component.\n */\ninterface ClassDetailHeaderProps {\n  classData?: Class;\n  isTeacher: boolean;\n  loading: boolean;\n  handleEdit: () => void;\n  isEditing: boolean;\n  updatedInfo: { class_name: string; class_description: string };\n  errors: { className?: string; classDescription?: string; general?: string };\n  handleChange: (e: CustomEvent) => void;\n  handleSave: () => void;\n  handleCancel: () => void;\n}\n\n/**\n * ClassDetailHeader Component\n *\n * Renders the header section of the Class Detail page.\n * It displays the class name and description, or an editing form if `isEditing` is true.\n * Shows skeleton loaders while data is loading (only in display mode).\n * Provides controls for saving or canceling edits.\n *\n * @param {ClassDetailHeaderProps} props - Component properties.\n * @returns {JSX.Element} The rendered header component.\n */\nconst ClassDetailHeader: React.FC<ClassDetailHeaderProps> = ({\n  classData,\n  isTeacher,\n  loading,\n  handleEdit,\n  isEditing,\n  updatedInfo,\n  errors,\n  handleChange,\n  handleSave,\n  handleCancel,\n}) => {\n  return (\n    <>\n      {isEditing ? (\n        // Editing Mode Form\n        <>\n          <EditableField\n            label=\"Class Name\"\n            name=\"class_name\"\n            value={updatedInfo.class_name}\n            onChange={handleChange}\n            error={errors.className}\n          />\n          <EditableField\n            label=\"Class Description\"\n            name=\"class_description\"\n            value={updatedInfo.class_description}\n            onChange={handleChange}\n            error={errors.classDescription}\n          />\n          {errors.general && (\n            <p className=\"text-red-500 text-sm mt-1\">{errors.general}</p>\n          )}\n          {/* Save and Cancel Buttons */}\n          <div className=\"mt-4 flex justify-end space-x-2\">\n            <IonButton onClick={handleSave} color=\"primary\" size=\"small\">\n              Save\n            </IonButton>\n            <IonButton onClick={handleCancel} color=\"medium\" size=\"small\">\n              Cancel\n            </IonButton>\n          </div>\n        </>\n      ) : loading ? (\n        <div>Loading...</div>\n      ) : classData ? (\n        // Display Mode (Data Loaded)\n        <>\n          <div className=\"flex items-center\">\n            {' '}\n            {/* Flex container for title and icon */}\n            <h1 className=\"text-2xl font-bold\">\n              {loading ? 'Loading...' : classData.ClassName}\n            </h1>\n            {isTeacher && !isEditing && (\n              <IonIcon\n                icon={createOutline}\n                size=\"large\"\n                color=\"primary\"\n                className=\"hover:transform hover:scale-110 cursor-pointer p-2\"\n                onClick={handleEdit}\n              ></IonIcon>\n            )}\n          </div>\n          <p className=\"text-gray-600\">\n            {loading ? 'Loading...' : classData.ClassDescription}\n          </p>\n        </>\n      ) : (\n        // Fallback if not loading and no data (Display Mode)\n        <h1>Class details unavailable</h1>\n      )}\n    </>\n  );\n};\n\nexport default ClassDetailHeader;\n","/**\n * @file ClassDetailTabs.tsx\n * Purpose: Defines the tab navigation component for the Class Detail page.\n * This component is responsible for rendering and managing the tab navigation\n * between different sections (Flashcard Sets, Leaderboard, Students).\n */\n\nimport React from 'react';\nimport { IonIcon, IonLabel, IonSegment, IonSegmentButton } from '@ionic/react';\nimport { bookOutline, trophyOutline, peopleOutline } from 'ionicons/icons';\n\n/**\n * Props for the ClassDetailTabs component.\n * Contains the currently selected tab and the handler to change it.\n */\ninterface ClassDetailTabsProps {\n  /** The currently selected tab value */\n  selectedTab: string;\n  /** Callback function to handle tab changes */\n  onTabChange: (value: string) => void;\n}\n\n/**\n * ClassDetailTabs Component\n *\n * Renders the tab navigation section of the Class Detail page.\n * Provides navigation between different views:\n * - Flashcard Sets: View and manage flashcard sets for the class\n * - Leaderboard: View student performance rankings\n * - Students: Manage class enrollment\n * The actual segment logic has been moved here from the parent page.\n *\n * @param {ClassDetailTabsProps} props - Component properties\n * @returns {JSX.Element} The rendered tab navigation component\n *\n * @example\n * ```tsx\n * <ClassDetailTabs\n *   selectedTab=\"flashcards\"\n *   onTabChange={(newTab) => setTab(newTab)}\n * />\n * ```\n */\nconst ClassDetailTabs: React.FC<ClassDetailTabsProps> = ({\n  selectedTab,\n  onTabChange,\n}) => {\n  return (\n    <IonSegment\n      value={selectedTab}\n      onIonChange={(e) => onTabChange(e.detail.value as string)}\n      className=\"w-full mb-6\"\n    >\n      <IonSegmentButton value=\"flashcards\">\n        <IonIcon icon={bookOutline} className=\"mr-2\" />\n        <IonLabel>Flashcard Sets</IonLabel>\n      </IonSegmentButton>\n      <IonSegmentButton value=\"leaderboard\">\n        <IonIcon icon={trophyOutline} className=\"mr-2\" />\n        <IonLabel>Leaderboard</IonLabel>\n      </IonSegmentButton>\n      <IonSegmentButton value=\"students\">\n        <IonIcon icon={peopleOutline} className=\"mr-2\" />\n        <IonLabel>Students</IonLabel>\n      </IonSegmentButton>\n    </IonSegment>\n  );\n};\n\nexport default ClassDetailTabs;\n","import { Button } from '@/components/ui/button';\nimport { Card } from '@/components/ui/card';\nimport { makeHttpCall } from '@/utils/makeHttpCall';\nimport { Check, X } from 'lucide-react';\nimport { useState } from 'react';\n\ninterface FlashCardProps {\n  front: string;\n  back: string;\n  onAdvance?: () => void;\n  cardId: number;\n}\n\nexport const FlashCard = ({\n  front,\n  back,\n  onAdvance,\n  cardId,\n}: FlashCardProps) => {\n  const [isFlipped, setIsFlipped] = useState(false);\n\n  const handleScoreUpdate = async (endpoint: string) => {\n    // TODO: user_id should be from context\n    try {\n      const result = await makeHttpCall(`${endpoint}`, {\n        method: 'POST',\n        headers: {\n          card_id: cardId.toString(),\n        },\n      });\n      console.log(`Score update successful for card ${cardId}:`, result);\n      onAdvance?.(); // Advance card after successful API call\n    } catch (error) {\n      console.error(`Failed to update score for card ${cardId}:`, error);\n      // Optionally handle the error, e.g., show a notification\n      // Decide if you still want to advance the card on error\n      // onAdvance?.();\n    }\n  };\n\n  const handleLearningClick = () => {\n    handleScoreUpdate('/api/card_history/incorrect');\n  };\n\n  const handleMasteredClick = () => {\n    handleScoreUpdate('/api/card_history/correct');\n  };\n\n  return (\n    <div className=\"w-full max-w-md mx-auto\">\n      <div\n        className={`flip-card cursor-pointer ${isFlipped ? 'flipped' : ''}`}\n        onClick={() => setIsFlipped(!isFlipped)}\n      >\n        <Card className=\"flip-card-front p-8 min-h-[300px] flex items-center justify-center text-center\">\n          <p className=\"text-xl\">{front}</p>\n        </Card>\n        <Card className=\"flip-card-back p-8 min-h-[300px] flex items-center justify-center text-center absolute top-0 w-full\">\n          <p className=\"text-xl\">{back}</p>\n        </Card>\n      </div>\n\n      <div className=\"flex justify-center gap-4 mt-6\">\n        <Button\n          variant=\"outline\"\n          className=\"w-32\"\n          onClick={handleLearningClick}\n        >\n          <X className=\"mr-2 h-4 w-4\" />\n          Learning\n        </Button>\n        <Button className=\"w-32\" onClick={handleMasteredClick}>\n          <Check className=\"mr-2 h-4 w-4\" />\n          Mastered\n        </Button>\n      </div>\n    </div>\n  );\n};\n","import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","import { FlashCard } from '@/components/FlashCard';\nimport {\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselNext,\n  CarouselPrevious,\n} from '@/components/ui/carousel';\nimport { makeHttpCall } from '@/utils/makeHttpCall';\nimport {\n  IonButton,\n  IonCard,\n  IonCardContent,\n  IonCardHeader,\n  IonCardTitle,\n  IonCol,\n  IonGrid,\n  IonIcon,\n  IonRow,\n} from '@ionic/react';\nimport { arrowBackOutline } from 'ionicons/icons';\nimport { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\ntype Flashcards = {\n  ID: number;\n  Front: string;\n  Back: string;\n  SetID: number;\n  CreatedAt: string;\n  UpdatedAt: string;\n};\n\n// We probably should make the flashcards have an independent page, so we can show loading states and errors\nconst FlashcardCarousel = (props) => {\n  const history = useHistory();\n  const [flashcards, setFlashcards] = useState<Flashcards[]>([]);\n  const [selectedSet, setSelectedSet] = useState<number | null>(null);\n\n  useEffect(() => {\n    async function fetchFlashcards() {\n      console.log('selectedSet', selectedSet);\n      const cards = await makeHttpCall<Flashcards[]>(`/api/flashcards/list`, {\n        method: 'GET',\n        headers: {\n          set_id: selectedSet,\n        },\n      });\n      console.log('cards', cards);\n      setFlashcards(cards);\n    }\n    if (selectedSet) {\n      fetchFlashcards();\n    }\n  }, [selectedSet]);\n\n  return (\n    <div className=\"mt-6\">\n      {props.loading ? (\n        <div>Loading...</div>\n      ) : selectedSet === null ? (\n        props.flashcardSets?.length ? (\n          <IonGrid>\n            <IonRow>\n              {props.flashcardSets\n                .sort((a, b) => a.ID - b.ID)\n                .map((set) => (\n                  <IonCol size=\"12\" sizeMd=\"6\" sizeLg=\"4\" key={set.ID}>\n                    <IonCard\n                      className=\"cursor-pointer hover:shadow-lg hover:-translate-y-1 transition-all duration-200 rounded-lg border shadow-sm\"\n                      onClick={() => history.push(`/set-overview/${set.ID}`)}\n                    >\n                      <IonCardHeader>\n                        <IonCardTitle className=\"text-lg font-semibold\">\n                          {set.SetName}\n                        </IonCardTitle>\n                      </IonCardHeader>\n                      <IonCardContent>\n                        <p className=\"text-muted-foreground mb-2\">\n                          {set.SetDescription}\n                        </p>\n                        {/* <p className=\"text-muted-foreground\">\n                                            {set.cards.length} cards\n                                        </p> */}\n                      </IonCardContent>\n                    </IonCard>\n                  </IonCol>\n                ))}\n            </IonRow>\n          </IonGrid>\n        ) : (\n          <p>No flashcard sets available.</p>\n        )\n      ) : (\n        <>\n          <IonButton\n            fill=\"outline\"\n            onClick={() => setSelectedSet(null)}\n            className=\"mb-6\"\n          >\n            <IonIcon slot=\"start\" icon={arrowBackOutline} />\n            Back to Sets\n          </IonButton>\n          <div className=\"w-full max-w-2xl mx-auto relative\">\n            <Carousel\n              orientation=\"vertical\"\n              className=\"w-full\"\n              setApi={props.setApi}\n            >\n              <CarouselContent className=\"-mt-1 h-[400px]\">\n                {flashcards.map((card) => (\n                  <CarouselItem key={card.ID}>\n                    {/* TODO: user_id should be from context */}\n                    <FlashCard\n                      front={card.Front}\n                      back={card.Back}\n                      cardId={card.ID}\n                    />\n                  </CarouselItem>\n                ))}\n              </CarouselContent>\n              <CarouselPrevious />\n              <CarouselNext />\n            </Carousel>\n\n            <div className=\"absolute right-[-50px] top-1/2 transform -translate-y-1/2 flex flex-col gap-2\">\n              {flashcards.map((_, index) => (\n                <div\n                  key={index}\n                  className={`w-2 h-2 rounded-full transition-colors ${\n                    index === props.currentCardIndex\n                      ? 'bg-primary'\n                      : 'bg-gray-300'\n                  }`}\n                />\n              ))}\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default FlashcardCarousel;\n","/**\n * @file FlashcardTab.tsx\n * Purpose: Defines the content component for the 'Flashcard Sets' tab in ClassDetail.\n * This component receives flashcard data and renders the FlashcardCarousel.\n */\n\nimport React from 'react';\nimport FlashcardSetList from '@/components/FlashcardSetList';\nimport { type CarouselApi } from '@/components/ui/carousel';\n\n// TODO: Move this type to a shared types file (e.g., src/types/index.ts)\n//       to avoid duplication and maintain consistency across the application.\ntype FlashcardSet = {\n  ID: number;\n  SetName: string;\n  SetDescription: string;\n  CreatedAt: string;\n  UpdatedAt: string;\n};\n\n/**\n * Props for the FlashcardTab component.\n */\ninterface FlashcardTabProps {\n  /** Array of flashcard sets to display in the carousel. */\n  flashcardSets: FlashcardSet[];\n  /** The index of the currently visible card in the carousel. */\n  currentCardIndex: number;\n  /** Callback function to receive the carousel API instance. */\n  setApi: (api: CarouselApi | undefined) => void;\n  /** Flag indicating if the flashcard tab is currently loading. */\n  loading: boolean;\n}\n\n/**\n * FlashcardTab Component\n *\n * Renders the FlashcardCarousel component, passing down the necessary props.\n * This component isolates the presentation logic for the flashcard sets tab.\n *\n * @param {FlashcardTabProps} props - Component properties.\n * @returns {JSX.Element} The rendered FlashcardCarousel.\n *\n * @example\n * ```tsx\n * <FlashcardTab\n *   flashcardSets={flashcardSetsData}\n *   currentCardIndex={currentCardIndex}\n *   setApi={handleCarouselApiSet}\n * />\n * ```\n */\nconst FlashcardTab: React.FC<FlashcardTabProps> = ({\n  flashcardSets,\n  currentCardIndex,\n  setApi,\n  loading,\n}) => {\n  return (\n    <FlashcardSetList\n      flashcardSets={flashcardSets}\n      currentCardIndex={currentCardIndex}\n      setApi={setApi}\n      loading={loading}\n    />\n  );\n};\n\nexport default FlashcardTab;\n","import React from 'react';\nimport { home, settings, addCircle } from 'ionicons/icons';\nimport {\n  IonFooter,\n  IonToolbar,\n  IonButtons,\n  IonButton,\n  IonIcon,\n  IonText,\n} from '@ionic/react';\n\nconst Footer = () => {\n  return (\n    <IonFooter className=\"ion-no-border fixed bottom-0 w-full\">\n      <IonToolbar>\n        {/* Home Button */}\n        <IonButtons slot=\"start\">\n          <IonButton routerLink=\"/home\">\n            <IonIcon icon={home} />\n          </IonButton>\n        </IonButtons>\n\n        {/*/!* Add Button *!/*/}\n        {/*<IonButtons slot=\"primary\">*/}\n        {/*    <IonButton expand=\"full\" routerLink=\"/create\">*/}\n        {/*        <IonIcon icon={addCircle} />*/}\n        {/*    </IonButton>*/}\n        {/*</IonButtons>*/}\n\n        {/*/!* Settings Button *!/*/}\n        {/*<IonButtons slot=\"end\">*/}\n        {/*    <IonButton routerLink=\"/settings\">*/}\n        {/*        <IonIcon icon={settings} />*/}\n        {/*    </IonButton>*/}\n        {/*</IonButtons>*/}\n\n        {/* About Section */}\n        <IonText className=\"mx-auto text-center text-sm text-gray-500\">\n          Cowboy Cards 2025. Built for learning and fun.\n        </IonText>\n      </IonToolbar>\n    </IonFooter>\n  );\n};\n\nexport { Footer };\n","import {\n  IonCard,\n  IonCardContent,\n  IonCardHeader,\n  IonCardTitle,\n  IonItem,\n  IonList,\n} from '@ionic/react';\n\ntype LeaderboardEntry = {\n  name: string;\n  totalScore: number;\n};\n\n// type LeaderboardProps = {\n//   leaderboard: LeaderboardEntry[];\n//   classUsers: any[];\n// };\n\nconst Leaderboard = ({ leaderboard }) => {\n  return (\n    <IonCard className=\"rounded-lg border shadow-sm\">\n      <IonCardHeader>\n        <IonCardTitle className=\"text-xl font-semibold\">\n          Class Leaderboard\n        </IonCardTitle>\n      </IonCardHeader>\n      <IonCardContent>\n        <IonList className=\"space-y-3\" lines=\"none\">\n          {leaderboard === null ? (\n            <h1 className=\"text-center text-gray-500\">No scores available</h1>\n          ) : (\n            leaderboard.map((entry) => (\n              <IonItem key={entry.UserID} className=\"muted-item p-3\">\n                <div className=\"flex items-center gap-3\">\n                  <span className=\"font-medium text-lg\">{entry.Username}</span>\n                </div>\n                <span slot=\"end\" className=\"text-primary font-semibold\">\n                  {entry.ClassScore} points\n                </span>\n              </IonItem>\n            ))\n          )}\n        </IonList>\n      </IonCardContent>\n    </IonCard>\n  );\n};\n\nexport default Leaderboard;\n","/**\n * @file LeaderboardTab.tsx\n * Purpose: Defines the content component for the 'Leaderboard' tab in ClassDetail.\n * This component receives leaderboard data and loading status, rendering either\n * a loading indicator or the Leaderboard component.\n */\n\nimport React from 'react';\nimport { IonSpinner } from '@ionic/react';\nimport Leaderboard from '@/components/Leaderboard'; // Assuming Leaderboard component path\n\n// TODO: Move this type to a shared types file (e.g., src/types/index.ts)\n//       to avoid duplication and maintain consistency across the application.\ntype GetClassScoresRow = {\n  UserID: number;\n  Username: string;\n  ClassScore: number;\n};\n\n/**\n * Props for the LeaderboardTab component.\n */\ninterface LeaderboardTabProps {\n  /** Array of leaderboard data rows. */\n  leaderboardData: GetClassScoresRow[];\n  /** Flag indicating if the leaderboard scores are currently being loaded. */\n  loadingScores: boolean;\n}\n\n/**\n * LeaderboardTab Component\n *\n * Renders the content for the Leaderboard tab. Displays a loading spinner\n * while scores are being fetched, or the Leaderboard component once data is available.\n * This component isolates the presentation logic for the leaderboard tab.\n *\n * @param {LeaderboardTabProps} props - Component properties.\n * @returns {JSX.Element} The rendered leaderboard content or loading spinner.\n *\n * @example\n * ```tsx\n * <LeaderboardTab\n *   leaderboardData={scoresData}\n *   loadingScores={isLoading}\n * />\n * ```\n */\nconst LeaderboardTab: React.FC<LeaderboardTabProps> = ({\n  leaderboardData,\n  loadingScores,\n}) => {\n  return (\n    <>\n      {loadingScores ? (\n        // Display a centered spinner while loading\n        <div className=\"flex justify-center items-center p-8\">\n          <IonSpinner name=\"circular\" />\n          <span className=\"ml-2\">Calculating scores...</span>\n        </div>\n      ) : (\n        // Render the Leaderboard component when data is ready\n        <Leaderboard leaderboard={leaderboardData} />\n      )}\n    </>\n  );\n};\n\nexport default LeaderboardTab;\n","import { useTheme } from '@/contexts/ThemeContext';\nimport {\n  IonButton,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonIcon,\n  IonItem,\n  IonList,\n  IonMenu,\n  IonMenuToggle,\n  IonPopover,\n  IonTitle,\n  IonToolbar,\n  useIonRouter,\n} from '@ionic/react';\nimport { add, close, menu, moon, personCircle, sunny } from 'ionicons/icons';\nimport { useState } from 'react';\n\nconst Navbar = () => {\n  const [popoverEvent, setPopoverEvent] = useState(null);\n\n  const openPopover = (event) => setPopoverEvent(event.nativeEvent);\n  const closePopover = () => setPopoverEvent(null);\n\n  const handleMenuItemClick = (route) => {\n    router.push(route);\n    document.querySelector('ion-menu')?.close();\n  };\n\n  const router = useIonRouter();\n  const { theme, setTheme } = useTheme();\n\n  // Function to toggle dark mode\n  const toggleDarkMode = () => {\n    setTheme(theme === 'dark' ? 'light' : 'dark');\n  };\n\n  return (\n    <>\n      {/* Sidebar Navigation (IonMenu) */}\n      <IonMenu side=\"start\" contentId=\"main-content\">\n        <IonHeader>\n          <IonToolbar>\n            {/* Close icon will automatically show when the menu is open */}\n            <IonButtons slot=\"start\">\n              <IonMenuToggle>\n                <IonButton>\n                  <IonIcon icon={close} />\n                </IonButton>\n              </IonMenuToggle>\n            </IonButtons>\n          </IonToolbar>\n        </IonHeader>\n        <IonContent>\n          <IonList>\n            <IonItem button onClick={() => handleMenuItemClick('/home')}>\n              My Dashboard\n            </IonItem>\n            <IonItem\n              button\n              onClick={() => handleMenuItemClick('/public-cards')}\n            >\n              Public Cards\n            </IonItem>\n            <IonItem\n              button\n              onClick={() => handleMenuItemClick('/public-classes')}\n            >\n              Public Classes\n            </IonItem>\n            <IonItem\n              button\n              onClick={() => handleMenuItemClick('/user-account')}\n            >\n              My Account\n            </IonItem>\n          </IonList>\n        </IonContent>\n      </IonMenu>\n\n      {/* Navbar */}\n      <IonHeader>\n        <IonToolbar>\n          {/* Left Side (Menu Button) */}\n          <IonButtons slot=\"start\">\n            {/* Left Side (Menu Button - FIXED) */}\n            <IonMenuToggle>\n              <IonButton>\n                <IonIcon icon={menu} />\n              </IonButton>\n            </IonMenuToggle>\n          </IonButtons>\n\n          {/* Middle Section (Title / Children) */}\n          <IonTitle\n            color=\"primary\"\n            className=\"text-lg md:text-xl lg:text-2xl font-bold hover:translate-x-1 transition-all duration-300 cursor-pointer\"\n            onClick={() => router.push('/home')}\n          >\n            Cowboy Cards\n          </IonTitle>\n\n          {/* Theme Toggle Button */}\n          <IonButtons slot=\"end\">\n            <IonButton onClick={openPopover}>\n              <IonIcon icon={add} className=\"text-[32px] stroke-[2]\" />\n            </IonButton>\n            {/* Popover for Create Options */}\n            <IonPopover\n              event={popoverEvent}\n              isOpen={!!popoverEvent}\n              onDidDismiss={closePopover}\n            >\n              <IonContent className=\"p-2\">\n                <IonList>\n                  <IonItem\n                    button\n                    onClick={() => {\n                      closePopover();\n                      router.push('/create-set');\n                    }}\n                  >\n                    Create Set\n                  </IonItem>\n                  <IonItem\n                    button\n                    onClick={() => {\n                      closePopover();\n                      router.push('/class/create');\n                    }}\n                  >\n                    Create Class\n                  </IonItem>\n                  <IonItem\n                    button\n                    onClick={() => {\n                      closePopover();\n                      router.push('/public-classes');\n                    }}\n                  >\n                    Join Class\n                  </IonItem>\n                </IonList>\n              </IonContent>\n            </IonPopover>\n            <IonButton fill=\"clear\" onClick={toggleDarkMode}>\n              <IonIcon\n                slot=\"icon-only\"\n                icon={theme === 'dark' ? sunny : moon}\n              />\n            </IonButton>\n          </IonButtons>\n\n          {/* Profile Icon */}\n          <IonButtons slot=\"end\">\n            <IonButton routerLink=\"/user-account\">\n              <IonIcon icon={personCircle} size=\"large\" />\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n    </>\n  );\n};\n\nexport { Navbar };\n","import {\n  IonCard,\n  IonCardContent,\n  IonCardHeader,\n  IonCardTitle,\n  IonIcon,\n  IonItem,\n  IonList,\n} from '@ionic/react';\n\nimport { trashOutline } from 'ionicons/icons';\n\nconst StudentList = ({ students, isTeacher, onDeleteStudent }) => {\n  return (\n    <IonCard className=\"mt-6\">\n      <IonCardHeader>\n        <IonCardTitle className=\"text-xl font-semibold\">\n          Class Students\n        </IonCardTitle>\n      </IonCardHeader>\n      <IonCardContent>\n        <IonList className=\"space-y-3\" lines=\"none\">\n          {students.map((student) => (\n            <IonItem key={student.UserID} className=\"muted-item p-3\">\n              <span className=\"font-medium\">{student.FirstName} {student.LastName}</span>\n              <span slot=\"end\" className=\"text-muted-foreground\">\n                {student.email}\n              </span>\n              {isTeacher && (\n                <IonIcon\n                  slot=\"end\"\n                  icon={trashOutline}\n                  color=\"danger\"\n                  className=\"cursor-pointer\"\n                  onClick={() => onDeleteStudent(student.UserID)}\n                />\n              )}\n            </IonItem>\n          ))}\n        </IonList>\n      </IonCardContent>\n    </IonCard>\n  );\n};\n\nexport default StudentList;\n","/**\n * @file StudentTab.tsx\n * Purpose: Defines the content component for the 'Students' tab in ClassDetail.\n * This component receives student data and user role, rendering the StudentList.\n * It now also manages the confirmation alert for student deletion.\n */\n\nimport React, { useState } from 'react';\nimport StudentList from '@/components/StudentList'; // Assuming StudentList component path\nimport { IonAlert } from '@ionic/react'; // Import IonAlert\n\n// TODO: Move this type to a shared types file (e.g., src/types/index.ts)\n//       to avoid duplication and maintain consistency across the application.\ntype ClassUser = {\n  UserID: number;\n  ClassID: number; // Might be useful context, keep for now\n  Role: string;\n  FirstName: string;\n  LastName: string;\n};\n\n/**\n * Props for the StudentTab component.\n */\ninterface StudentTabProps {\n  /** Flag indicating if the current user is a teacher. */\n  isTeacher: boolean;\n  /** Array of student data (ClassUser objects). */\n  students: ClassUser[];\n  /** Callback function to execute the actual student deletion logic. Takes student ID. */\n  handleActualDelete: (studentId: number) => void; // Renamed from onDeleteStudent\n}\n\n/**\n * StudentTab Component\n *\n * Renders the content for the Students tab. Displays the list of students\n * using the `StudentList` component and passes down necessary props for\n * display and interaction (like deletion confirmation).\n * This component isolates the presentation logic for the students tab, including the delete confirmation flow.\n *\n * @param {StudentTabProps} props - Component properties.\n * @returns {JSX.Element} The rendered student list content and alert.\n *\n * @example\n * ```tsx\n * <StudentTab\n *   isTeacher={isCurrentUserTeacher}\n *   students={classStudentsData}\n *   onDeleteStudent={handleShowDeleteAlert} // OLD example, prop is now handleActualDelete\n *   handleActualDelete={handleDeleteStudentLogic} // NEW example\n * />\n * ```\n */\nconst StudentTab: React.FC<StudentTabProps> = ({\n  isTeacher,\n  students,\n  handleActualDelete, // Use the new prop name\n}) => {\n  // State to manage the delete confirmation alert\n  const [showDeleteAlert, setShowDeleteAlert] = useState<{\n    isOpen: boolean;\n    studentId: number | null; // Store the ID of the student to delete\n  }>({\n    isOpen: false,\n    studentId: null,\n  });\n\n  // Function to show the delete confirmation alert\n  // This will be passed to the StudentList component\n  const handleShowDeleteAlert = (studentId: number) => {\n    setShowDeleteAlert({ isOpen: true, studentId: studentId });\n  };\n\n  return (\n    <>\n      {/* The wrapping div is maintained here as it was in ClassDetail.tsx */}\n      <div className=\"flex flex-col\">\n        <StudentList\n          isTeacher={isTeacher}\n          students={students}\n          onDeleteStudent={handleShowDeleteAlert} // Pass the local alert trigger function\n        />\n      </div>\n\n      {/* Student Deletion Confirmation Alert - Moved from ClassDetail.tsx */}\n      <IonAlert\n        isOpen={showDeleteAlert.isOpen}\n        onDidDismiss={\n          () => setShowDeleteAlert({ isOpen: false, studentId: null }) // Reset state on dismiss\n        }\n        header=\"Confirm Deletion\"\n        message=\"Are you sure you want to remove this student from the class? This action cannot be undone.\"\n        buttons={[\n          {\n            text: 'Cancel',\n            role: 'cancel',\n            handler: () => {\n              console.log('Cancel clicked');\n              // State is reset by onDidDismiss\n            },\n          },\n          {\n            text: 'Delete',\n            handler: () => {\n              // Call the actual delete function passed from the parent\n              if (showDeleteAlert.studentId !== null) {\n                handleActualDelete(showDeleteAlert.studentId);\n                console.log(\n                  `Student deletion initiated for ID: ${showDeleteAlert.studentId}`\n                );\n              }\n              // State is reset by onDidDismiss\n            },\n          },\n        ]}\n      />\n    </>\n  );\n};\n\nexport default StudentTab;\n","import AddSetToClassDialog from '@/components/AddSetToClassDialog';\nimport ClassDetailControls from '@/components/ClassDetailControls';\nimport ClassDetailHeader from '@/components/ClassDetailHeader';\nimport ClassDetailTabs from '@/components/ClassDetailTabs';\nimport FlashcardTab from '@/components/FlashcardTab';\nimport { Footer } from '@/components/Footer';\nimport LeaderboardTab from '@/components/LeaderboardTab';\nimport { Navbar } from '@/components/Navbar';\nimport StudentTab from '@/components/StudentTab';\nimport { type CarouselApi } from '@/components/ui/carousel';\nimport { makeHttpCall } from '@/utils/makeHttpCall';\nimport { IonContent } from '@ionic/react';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\n\ntype Class = {\n  ID: number;\n  ClassName: string;\n  ClassDescription: string;\n  CreatedAt: string;\n  UpdatedAt: string;\n  Role: string;\n};\n\ntype FlashcardSet = {\n  ID: number;\n  SetName: string;\n  SetDescription: string;\n  CreatedAt: string;\n  UpdatedAt: string;\n};\n\ntype ClassUser = {\n  UserID: number;\n  ClassID: number;\n  Role: string;\n  FirstName: string;\n  LastName: string;\n};\n\ntype GetClassScoresRow = {\n  UserID: number;\n  Username: string;\n  ClassScore: number;\n};\n\nconst ClassDetail = () => {\n  const { id } = useParams<{ id: string }>();\n  console.log('id', id);\n  const [currentCardIndex, setCurrentCardIndex] = useState(0);\n  const [carouselApi, setCarouselApi] = useState<CarouselApi>();\n  const [tab, setTab] = useState('flashcards');\n  const [isTeacher, setIsTeacher] = useState(false);\n  const [classData, setClassData] = useState<Class>();\n  const [flashcardSets, setFlashcardSets] = useState<FlashcardSet[]>([]);\n  const [classUsers, setClassUsers] = useState<ClassUser[]>([]);\n  const [error, setError] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [leaderboardData, setLeaderboardData] = useState<GetClassScoresRow[]>(\n    []\n  );\n  const [loadingScores, setLoadingScores] = useState(false);\n\n  const [isEditing, setIsEditing] = useState(false);\n  const [updatedInfo, setUpdatedInfo] = useState({\n    class_name: '',\n    class_description: '',\n  });\n\n  const [showAddSetDialog, setShowAddSetDialog] = useState(false);\n\n  const handleEdit = () => {\n    console.log('Handling Edit');\n    setUpdatedInfo({\n      class_name: classData?.ClassName || '',\n      class_description: classData?.ClassDescription || '',\n    });\n    setIsEditing(true);\n  };\n\n  const [errors, setErrors] = useState<{\n    className?: string;\n    classDescription?: string;\n    general?: string;\n  }>({});\n\n  const validateForm = () => {\n    const newErrors: {\n      className?: string;\n      classDescription?: string;\n    } = {};\n    let isValid = true;\n\n    updatedInfo.class_name = updatedInfo.class_name.trim();\n    updatedInfo.class_description = updatedInfo.class_description.trim();\n\n    if (!updatedInfo.class_name) {\n      newErrors.className = 'Class name is required';\n      isValid = false;\n    }\n\n    if (!updatedInfo.class_description) {\n      newErrors.classDescription = 'Class description is required';\n      isValid = false;\n    }\n\n    setErrors(newErrors);\n    return isValid;\n  };\n\n  const handleSave = async () => {\n    if (!validateForm()) {\n      console.log('Form validation failed:', errors);\n      return;\n    }\n    const fieldsToUpdate = ['class_name', 'class_description'];\n\n    try {\n      const updatePromises = fieldsToUpdate.map((field) =>\n        makeHttpCall<Class>(`/api/classes/${field}`, {\n          method: 'PUT',\n          headers: {\n            id: id,\n            [field]: updatedInfo[field],\n          },\n        })\n      );\n\n      await Promise.all(updatePromises);\n      setClassData((prev) => ({\n        ...prev,\n        ClassName: updatedInfo.class_name,\n        ClassDescription: updatedInfo.class_description,\n      }));\n      setIsEditing(false);\n    } catch (error) {\n      console.error(error);\n      alert('Failed to update some fields. Please try again.');\n    }\n  };\n\n  const handleChange = (e: CustomEvent) => {\n    const { name } = e.target as HTMLInputElement;\n    const value = e.detail.value;\n    setUpdatedInfo((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n  };\n\n  const handleCancel = () => {\n    setIsEditing(false);\n  };\n\n  const fetchDataForClass = useCallback(async () => {\n    setLoading(true);\n    setLoadingScores(true);\n    setError(null);\n    try {\n      const [classDetails, sets, users, scores] = await Promise.all([\n        makeHttpCall<Class>(`/api/classes/`, {\n          method: 'GET',\n          headers: { id: id },\n        }),\n\n        makeHttpCall<FlashcardSet[]>(`/api/class_set/list_sets`, {\n          method: 'GET',\n          headers: { id: id },\n        }),\n\n        makeHttpCall<ClassUser[]>(`/api/class_user/members`, {\n          method: 'GET',\n          headers: { class_id: id },\n        }),\n\n        makeHttpCall<GetClassScoresRow[]>(`/api/classes/leaderboard`, {\n          method: 'GET',\n          headers: { id: id },\n        }),\n      ]);\n\n      console.log('data', classDetails);\n      setIsTeacher(classDetails.Role === 'teacher');\n      setClassData(classDetails);\n\n      console.log('sets', sets);\n      setFlashcardSets(sets || []);\n\n      console.log('users', users);\n      setClassUsers(users || []);\n\n      console.log('scores', scores);\n      setLeaderboardData(scores || []);\n    } catch (error) {\n      let message = 'Unknown error';\n      if (error instanceof Error) message = error.message;\n      setError(`Error fetching class data: ${message}`);\n      setClassData(undefined);\n      setFlashcardSets([]);\n      setClassUsers([]);\n      setLeaderboardData([]);\n    } finally {\n      setLoading(false);\n      setLoadingScores(false);\n    }\n  }, [id]);\n\n  useEffect(() => {\n    fetchDataForClass();\n  }, [fetchDataForClass]);\n\n  const handleDeleteStudent = async (studentId: number | null) => {\n    if (studentId === null) return;\n    try {\n      await makeHttpCall(`/api/class_user/`, {\n        method: 'DELETE',\n        headers: {\n          class_id: id,\n          student_id: studentId,\n        },\n      });\n    } catch (error) {\n      console.error('Error deleting student:', error);\n      setError('Error deleting student');\n    }\n  };\n\n  useEffect(() => {\n    if (!carouselApi) {\n      return;\n    }\n\n    carouselApi.on('select', () => {\n      setCurrentCardIndex(carouselApi.selectedScrollSnap());\n    });\n  }, [carouselApi]);\n\n  return (\n    <>\n      <Navbar />\n      <IonContent className=\"ion-padding\">\n        <div id=\"main-content\" className=\"max-w-4xl mx-auto\">\n          {error && <div className=\"text-red-500\">{error}</div>}\n\n          <ClassDetailHeader\n            classData={classData}\n            isTeacher={isTeacher}\n            loading={loading}\n            handleEdit={handleEdit}\n            isEditing={isEditing}\n            updatedInfo={updatedInfo}\n            errors={errors}\n            handleChange={handleChange}\n            handleSave={handleSave}\n            handleCancel={handleCancel}\n          />\n\n          <ClassDetailControls\n            isTeacher={isTeacher}\n            classId={id}\n            onAddSetClick={() => setShowAddSetDialog(true)}\n          />\n\n          <ClassDetailTabs selectedTab={tab} onTabChange={setTab} />\n\n          {tab === 'leaderboard' && (\n            <LeaderboardTab\n              leaderboardData={leaderboardData}\n              loadingScores={loadingScores}\n            />\n          )}\n\n          {tab === 'flashcards' && (\n            <FlashcardTab\n              flashcardSets={flashcardSets}\n              currentCardIndex={currentCardIndex}\n              setApi={setCarouselApi}\n              loading={loading}\n            />\n          )}\n\n          {tab === 'students' && (\n            <StudentTab\n              isTeacher={isTeacher}\n              students={classUsers}\n              handleActualDelete={handleDeleteStudent}\n            />\n          )}\n        </div>\n        <Footer />\n      </IonContent>\n\n      <AddSetToClassDialog\n        isOpen={showAddSetDialog}\n        onDidDismiss={() => setShowAddSetDialog(false)}\n        classId={id}\n        existingSetIds={flashcardSets.map((set) => set.ID)}\n        onSetAdded={fetchDataForClass}\n      />\n    </>\n  );\n};\n\nexport default ClassDetail;\n","import { Navbar } from '@/components/Navbar';\nimport { makeHttpCall } from '@/utils/makeHttpCall';\nimport {\n  IonButton,\n  IonCard,\n  IonCardContent,\n  IonContent,\n  IonText,\n  IonTextarea,\n} from '@ionic/react';\nimport { useEffect, useState } from 'react';\n\ntype Class = {\n  ID: number;\n  ClassName: string;\n  ClassDescription: string;\n};\n\nconst CreateClass = () => {\n  const [buttonClicked, setButtonClicked] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [formData, setFormData] = useState({\n    className: '',\n    description: '',\n  });\n  const [showSuccess, setShowSuccess] = useState(false);\n  // const [isPrivate, setIsPrivate] = useState(false);\n  // const [textToCopy, setTextToCopy] = useState('This is the text to be copied');\n  // const [showToast, setShowToast] = useState(false);\n  // const [showSuccess, setShowSuccess] = useState(false);\n\n  // const copyToClipboard = async () => {\n  //   try {\n  //     await navigator.clipboard.writeText(textToCopy);\n  //     setShowToast(true);\n  //   } catch (err) {\n  //     console.error('Failed to copy text', err);\n  //   }\n  // };\n\n  useEffect(() => {\n    async function submitForm() {\n      if (!buttonClicked) return;\n\n      setLoading(true);\n      setError(null);\n\n      try {\n        const data = await makeHttpCall<Class>(`/api/classes`, {\n          method: 'POST',\n          headers: {\n            class_name: formData.className,\n            class_description: formData.description,\n          },\n        });\n\n        console.log('Class created successfully:', data);\n\n        setButtonClicked(false);\n\n        setFormData({\n          className: '',\n          description: '',\n        });\n\n        setShowSuccess(true);\n        setLoading(false);\n      } catch (error) {\n        setError(`Failed to create class: ${error.message}`);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    if (buttonClicked) {\n      submitForm();\n    }\n  }, [buttonClicked, formData]);\n\n  return (\n    <IonContent>\n      <Navbar />\n      <div id=\"main-content\" className=\"container mx-auto px-4 py-8\">\n        {/*<IonText color=\"warning\">\n          <p>\n            Database only accepts a teacher ID of 12. <br />\n            So I have not included an input for that, it will automatically be\n            passed\n          </p>\n        </IonText>*/}\n        {error && <div className=\"text-red-500 mt-2\">{error}</div>}\n        <form>\n          <IonCard className=\"mb-6 rounded-lg border shadow-sm\">\n            <IonCardContent>\n              <IonTextarea\n                placeholder=\"Enter Class Name\"\n                value={formData.className}\n                onIonChange={(e) =>\n                  setFormData((prev) => ({\n                    ...prev,\n                    className: e.detail.value || '',\n                  }))\n                }\n                rows={1}\n                autoGrow\n                className=\"w-full text-xl font-bold mb-2\"\n                style={{ resize: 'none' }}\n              />\n              <IonTextarea\n                placeholder=\"Enter Class Description\"\n                value={formData.description}\n                onIonChange={(e) =>\n                  setFormData((prev) => ({\n                    ...prev,\n                    description: e.detail.value || '',\n                  }))\n                }\n                rows={1}\n                autoGrow\n                className=\"w-full text-base mt-4\"\n                style={{ resize: 'none' }}\n              />\n            </IonCardContent>\n            {/* <IonItem>\n              \n              Public/Private will not be in MVP\n\n              <IonCheckbox\n                labelPlacement=\"start\"\n                justify=\"start\"\n                checked={isPrivate}\n                onIonChange={(e) => {\n                  setIsPrivate(e.detail.checked);\n                }}\n              >\n                Private\n              </IonCheckbox>\n              <IonRadioGroup\n                onIonChange={(e) => {\n                  const value = e.detail.value;\n                  setIsPrivate(value === 'private');\n                  setFormData((prev) => ({\n                    ...prev,\n                    joinCode: value === 'private' ? crypto.randomUUID() : '',\n                  }));\n                }}\n              >\n                <IonRadio value=\"public\">Public</IonRadio>\n                <IonRadio value=\"private\">Private</IonRadio>\n              </IonRadioGroup>\n            </IonItem> */}\n          </IonCard>\n          <div className=\"flex flex-col md:flex-row justify-center md:justify-end gap-4 mt-8\">\n            <IonButton\n              color=\"success\"\n              disabled={loading}\n              onClick={() => setButtonClicked(true)}\n            >\n              {loading ? 'Creating...' : 'Create Class'}\n            </IonButton>\n          </div>\n          {/* \n          {showSuccess && (\n            <IonText>\n              {isPrivate && (\n                <p>\n                  Class created successfully! Please save this join code: <br />\n                  <b>{lastJoinCode}</b>\n                </p>\n              )}\n              {!isPrivate && <p>Class created successfully!</p>}\n              <IonButton onClick={copyToClipboard}>Copy to Clipboard</IonButton>\n              <IonToast\n                isOpen={showToast}\n                onDidDismiss={() => setShowToast(false)}\n                message=\"Text copied to clipboard!\"\n                duration={2000}\n              />\n            </IonText>\n          )} */}\n        </form>\n        {showSuccess && (\n          <IonText>\n            <p>Class created successfully!</p>\n          </IonText>\n        )}\n      </div>\n    </IonContent>\n  );\n};\n\nexport default CreateClass;\n","import { Navbar } from '@/components/Navbar';\nimport { FlashcardSet } from '@/types/flashcards';\nimport { makeHttpCall } from '@/utils/makeHttpCall';\nimport {\n  IonButton,\n  IonCard,\n  IonCardContent,\n  IonContent,\n  IonText,\n  IonTextarea,\n} from '@ionic/react';\nimport { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\n/**\n * CreateSet Component\n *\n * This component handles the creation of new flashcard set metadata (title and description).\n * It provides a form for entering these details and submitting them to the backend.\n * After successful creation, it navigates the user to the overview page for the new set.\n * Card creation is handled separately, likely on an edit/overview page.\n */\nconst CreateSet = () => {\n  const history = useHistory();\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [errors, setErrors] = useState({ title: '', description: '' });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  /**\n   * Saves the flashcard set metadata (title, description) to the database\n   * using a POST request to `/api/flashcards/sets/`.\n   * On successful creation, navigates the user to the overview page\n   * for the newly created set (`/set-overview/:id`).\n   */\n  const saveSet = async () => {\n    setLoading(true);\n    setError(null);\n\n    // Validate inputs\n    const newErrors = { title: '', description: '' };\n    let hasError = false;\n\n    if (!title.trim()) {\n      newErrors.title = 'Title is required';\n      hasError = true;\n    }\n\n    if (!description.trim()) {\n      newErrors.description = 'Description is required';\n      hasError = true;\n    }\n\n    setErrors(newErrors);\n\n    if (hasError) {\n      setLoading(false);\n      return;\n    }\n\n    try {\n      // 1. Create the set\n      const setResponse = await makeHttpCall<FlashcardSet>(\n        `/api/flashcards/sets`,\n        {\n          method: 'POST',\n          headers: {\n            set_name: title,\n            set_description: description,\n          },\n        }\n      );\n\n      // Navigate to the set overview page\n      history.push(`/set-overview/${setResponse.ID}`);\n    } catch (error) {\n      console.error('Error saving flashcard set:', error);\n      setError(`Failed to save flashcard set: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <IonContent className=\"ion-padding\">\n      <Navbar />\n      <div id=\"main-content\" className=\"container mx-auto px-4 py-8 max-w-4xl\">\n        {loading && <div>Loading...</div>}\n        {error && <div className=\"text-red-500 mt-2\">{error}</div>}\n        <h1 className=\"text-3xl font-bold mb-6\">Create New Flashcard Set</h1>\n\n        {/* Title & Description inputs */}\n        <IonCard className=\"mb-6 rounded-lg border shadow-sm\">\n          <IonCardContent>\n            <IonTextarea\n              placeholder=\"Enter set title\"\n              value={title}\n              onIonChange={(e) => setTitle(e.detail.value!)}\n              rows={1}\n              autoGrow\n              className=\"w-full text-xl font-bold mb-2\"\n              style={{ resize: 'none' }}\n            />\n            {errors.title && (\n              <IonText color=\"danger\">\n                <p className=\"text-sm mt-1\">{errors.title}</p>\n              </IonText>\n            )}\n\n            <IonTextarea\n              placeholder=\"Enter set description\"\n              value={description}\n              onIonChange={(e) => setDescription(e.detail.value!)}\n              rows={1}\n              autoGrow\n              className=\"w-full text-base mt-4\"\n              style={{ resize: 'none' }}\n            />\n            {errors.description && (\n              <IonText color=\"danger\">\n                <p className=\"text-sm mt-1\">{errors.description}</p>\n              </IonText>\n            )}\n          </IonCardContent>\n        </IonCard>\n\n        {/* Create button */}\n        <div className=\"flex justify-center\">\n          <IonButton\n            color=\"success\"\n            className=\"rounded-lg shadow-sm w-full md:w-auto\"\n            onClick={saveSet}\n            disabled={loading}\n          >\n            {loading ? 'Creating...' : 'Create Set'}\n          </IonButton>\n        </div>\n      </div>\n    </IonContent>\n  );\n};\n\nexport default CreateSet;\n","/**\n * @file src/components/edit-set/FlashcardListEditor.tsx\n * Purpose: Component for managing the list of flashcards being edited within a set.\n */\nimport React from 'react';\nimport { Flashcard } from '@/types/flashcards';\nimport {\n  IonCard,\n  IonCardContent,\n  IonTextarea,\n  IonButton,\n  IonIcon,\n} from '@ionic/react';\nimport { addOutline, trashOutline } from 'ionicons/icons';\n\n/**\n * Props for the FlashcardListEditor component.\n */\ninterface FlashcardListEditorProps {\n  /** The current array of flashcards being edited. */\n  cards: Flashcard[];\n  /** Callback function to add a new empty card. */\n  onAddCard: () => void;\n  /** Callback function to remove a card at a specific index. */\n  onRemoveCard: (index: number) => void;\n  /** Callback function to update a card's field at a specific index. */\n  onUpdateCard: (\n    index: number,\n    field: 'Front' | 'Back',\n    value: string | null | undefined\n  ) => void;\n}\n\n/**\n * FlashcardListEditor Component\n *\n * Renders a list of editable flashcards, each within an IonCard.\n * Provides inputs for Front and Back content, a delete button for each card,\n * and an \"Add Card\" button for the entire list.\n *\n * @param {FlashcardListEditorProps} props - Component properties.\n * @returns {JSX.Element} The rendered component.\n */\nconst FlashcardListEditor: React.FC<FlashcardListEditorProps> = ({\n  cards,\n  onAddCard,\n  onRemoveCard,\n  onUpdateCard,\n}) => {\n  return (\n    <>\n      <h2 className=\"text-xl font-semibold mb-2\">Edit Cards</h2>\n      {cards.map((card, index) => (\n        <IonCard\n          key={card.ID} // Use card ID as key (or 0 for new cards)\n          className=\"mb-4 rounded-lg border shadow-sm\"\n        >\n          <IonCardContent>\n            <div className=\"flex justify-between items-start mb-2\">\n              <span className=\"text-sm font-semibold text-gray-600\">\n                Card {index + 1} {card.ID > 0 ? '(Existing)' : '(New)'}\n              </span>\n              <IonButton\n                fill=\"clear\"\n                color=\"danger\"\n                size=\"small\"\n                onClick={() => onRemoveCard(index)} // Use prop function\n                className=\"-mt-2 -mr-2\"\n              >\n                <IonIcon slot=\"icon-only\" icon={trashOutline} />\n              </IonButton>\n            </div>\n            <IonTextarea\n              label={`Front (Card ${index + 1})`}\n              labelPlacement=\"stacked\"\n              placeholder=\"Front of card\"\n              value={card.Front}\n              onIonChange={\n                (e) => onUpdateCard(index, 'Front', e.detail.value) // Use prop function\n              }\n              rows={2}\n              autoGrow\n              className=\"mb-3\"\n              style={{ resize: 'none' }}\n            />\n            <IonTextarea\n              label={`Back (Card ${index + 1})`}\n              labelPlacement=\"stacked\"\n              placeholder=\"Back of card\"\n              value={card.Back}\n              onIonChange={\n                (e) => onUpdateCard(index, 'Back', e.detail.value) // Use prop function\n              }\n              rows={2}\n              autoGrow\n              style={{ resize: 'none' }}\n            />\n          </IonCardContent>\n        </IonCard>\n      ))}\n\n      {/* Add Card Button */}\n      <div className=\"flex justify-center mt-4 mb-6\">\n        <IonButton onClick={onAddCard} fill=\"outline\">\n          {' '}\n          {/* Use prop function */}\n          <IonIcon slot=\"start\" icon={addOutline} /> Add Card\n        </IonButton>\n      </div>\n    </>\n  );\n};\n\nexport default FlashcardListEditor;\n","/**\n * @file src/components/edit-set/SetMetadataEditor.tsx\n * Purpose: Component for editing the metadata (name and description) of a flashcard set.\n */\nimport React from 'react';\nimport { IonCard, IonCardContent, IonTextarea } from '@ionic/react';\n\n/**\n * Props for the SetMetadataEditor component.\n */\ninterface SetMetadataEditorProps {\n  /** Current value for the set name. */\n  setName: string;\n  /** Current value for the set description. */\n  setDescription: string;\n  /** Callback function when the set name changes. */\n  onNameChange: (value: string | null | undefined) => void;\n  /** Callback function when the set description changes. */\n  onDescriptionChange: (value: string | null | undefined) => void;\n}\n\n/**\n * SetMetadataEditor Component\n *\n * Renders input fields (IonTextarea) for editing the name and description\n * of a flashcard set.\n *\n * @param {SetMetadataEditorProps} props - Component properties.\n * @returns {JSX.Element} The rendered component.\n */\nconst SetMetadataEditor: React.FC<SetMetadataEditorProps> = ({\n  setName,\n  setDescription,\n  onNameChange,\n  onDescriptionChange,\n}) => {\n  return (\n    <IonCard className=\"mb-6 rounded-lg border shadow-sm\">\n      <IonCardContent>\n        <IonTextarea\n          label=\"Set Title\"\n          labelPlacement=\"stacked\"\n          placeholder=\"Enter set title\"\n          value={setName}\n          onIonChange={(e) => onNameChange(e.detail.value)}\n          rows={1}\n          autoGrow\n          className=\"w-full text-xl font-bold mb-2\"\n          style={{ resize: 'none' }}\n        />\n        {/* TODO: Add validation error display if needed */}\n\n        <IonTextarea\n          label=\"Set Description\"\n          labelPlacement=\"stacked\"\n          placeholder=\"Enter set description\"\n          value={setDescription}\n          onIonChange={(e) => onDescriptionChange(e.detail.value)}\n          rows={2} // Allow a bit more space for description\n          autoGrow\n          className=\"w-full text-base mt-4\"\n          style={{ resize: 'none' }}\n        />\n        {/* TODO: Add validation error display if needed */}\n      </IonCardContent>\n    </IonCard>\n  );\n};\n\nexport default SetMetadataEditor;\n","/**\n * @file src/pages/EditSet.tsx\n * Purpose: Provides a page for editing the details of a flashcard set\n * and managing the flashcards within that set (add, edit, delete).\n */\n\n//TODO: Add a back button to the page\n//TODO: fix redirecting from this page. It's not working.\n\nimport { Footer } from '@/components/Footer';\nimport { Navbar } from '@/components/Navbar';\nimport { Flashcard, FlashcardSet } from '@/types/flashcards';\nimport { makeHttpCall } from '@/utils/makeHttpCall';\nimport {\n  IonButton,\n  IonContent,\n  IonLoading,\n  IonPage,\n  IonText,\n  useIonToast,\n} from '@ionic/react';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\n\n// Import the extracted components\nimport FlashcardListEditor from '@/components/edit-set/FlashcardListEditor';\nimport SetMetadataEditor from '@/components/edit-set/SetMetadataEditor';\n\n/**\n * EditSet Component\n *\n * Allows users to edit the metadata (title, description) of a flashcard set\n * and manage its associated cards (add, edit, delete).\n * Fetches initial set and card data based on the ID in the URL.\n * Provides UI elements for editing and persists changes via API calls.\n * Uses child components SetMetadataEditor and FlashcardListEditor for UI structure.\n *\n * @returns {JSX.Element} The EditSet page component.\n */\nconst EditSet = () => {\n  /** @type {{ id: string }} Extracts the set ID from the URL route parameters. */\n  const { id } = useParams<{ id: string }>();\n  /** @type {Function} Hook to display toast notifications for feedback. */\n  const [presentToast] = useIonToast();\n\n  // --- State Variables ---\n  /** @type {FlashcardSet | null} Stores the original set details fetched from the API. Used for comparison. */\n  const [originalSetDetails, setOriginalSetDetails] =\n    useState<FlashcardSet | null>(null);\n  /** @type {Flashcard[]} Stores the original list of cards fetched from the API. Used for comparison. */\n  const [originalCards, setOriginalCards] = useState<Flashcard[]>([]);\n\n  /** @type {string} Holds the current edited value for the set's name in the input field. */\n  const [editedSetName, setEditedSetName] = useState<string>('');\n  /** @type {string} Holds the current edited value for the set's description in the input field. */\n  const [editedSetDescription, setEditedSetDescription] = useState<string>('');\n  /** @type {Flashcard[]} Holds the current, potentially modified, list of cards being edited in the UI. */\n  const [cards, setCards] = useState<Flashcard[]>([]);\n\n  /** @type {boolean} Tracks the loading state during the initial data fetch. */\n  const [loading, setLoading] = useState<boolean>(true);\n  /** @type {string | null} Stores any error message encountered during the initial data fetch. */\n  const [error, setError] = useState<string | null>(null);\n  /** @type {boolean} Tracks the loading state during the save operation (API calls). */\n  const [isSaving, setIsSaving] = useState<boolean>(false);\n  /** @type {string | null} Stores any error message encountered during the save operation. */\n  const [saveError, setSaveError] = useState<string | null>(null);\n\n  /**\n   * Fetches initial set details and card list from the backend.\n   * Uses `useCallback` to memoize the function, preventing unnecessary re-creation.\n   * Called on component mount and when the `id` parameter changes.\n   * Updates original state and initializes editable state.\n   * @async\n   */\n  const fetchData = useCallback(async () => {\n    if (!id) {\n      setError('Set ID is missing from URL.');\n      setLoading(false);\n      return;\n    }\n    // Reset states before fetching\n    setLoading(true);\n    setError(null);\n    setSaveError(null);\n    try {\n      const [fetchedSetDetails, fetchedCards] = await Promise.all([\n        makeHttpCall<FlashcardSet>(`/api/flashcards/sets/`, {\n          method: 'GET',\n          headers: { id: id },\n        }),\n        makeHttpCall<Flashcard[]>(`/api/flashcards/list`, {\n          method: 'GET',\n          headers: { set_id: id },\n        }),\n      ]);\n      setOriginalSetDetails(fetchedSetDetails);\n      setOriginalCards(fetchedCards);\n      setEditedSetName(fetchedSetDetails.SetName);\n      setEditedSetDescription(fetchedSetDetails.SetDescription);\n      // Ensure fetched cards have positive IDs if backend guarantees it\n      if (fetchedCards) {\n        setCards(fetchedCards.map((card) => ({ ...card, ID: card.ID || 0 })));\n      } else {\n        setCards([]);\n      }\n    } catch (err) {\n      console.error('Error fetching data for EditSet:', err);\n      let message = 'Unknown error';\n      if (err instanceof Error) message = err.message;\n      setError(`Failed to load set data: ${message}`);\n    } finally {\n      setLoading(false);\n    }\n  }, [id]);\n\n  // Effect hook to run `fetchData` on mount and when `fetchData` (dependency: id) changes.\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  // --- State Handlers ---\n\n  /**\n   * Updates the state for the edited set name or description based on input changes.\n   * @param {'SetName' | 'SetDescription'} field - The specific field being changed.\n   * @param {string | null | undefined} value - The new value from the input event.\n   */\n  const handleSetDetailChange = (\n    field: 'SetName' | 'SetDescription',\n    value: string | null | undefined\n  ) => {\n    const newValue = value ?? '';\n    if (field === 'SetName') {\n      setEditedSetName(newValue);\n    } else {\n      setEditedSetDescription(newValue);\n    }\n  };\n\n  /**\n   * Appends a new, empty flashcard object to the `cards` state array.\n   * New cards are initialized with ID = 0 to differentiate them from existing cards.\n   */\n  const addCard = () => {\n    if (!originalSetDetails) return;\n    const newCard: Flashcard = {\n      ID: 0, // Use 0 to indicate a new card, backend assigns real ID\n      Front: '',\n      Back: '',\n      SetID: originalSetDetails.ID,\n      CreatedAt: new Date().toISOString(),\n      UpdatedAt: new Date().toISOString(),\n    };\n    setCards([...cards, newCard]);\n  };\n\n  /**\n   * Removes a flashcard from the `cards` state array at the specified index.\n   * @param {number} index - The index of the card to remove.\n   */\n  const removeCard = (index: number) => {\n    setCards(cards.filter((_, i) => i !== index));\n  };\n\n  /**\n   * Updates the `Front` or `Back` field of a specific card in the `cards` state array.\n   * @param {number} index - The index of the card to update.\n   * @param {'Front' | 'Back'} field - The specific field (`Front` or `Back`) to update.\n   * @param {string | null | undefined} value - The new value from the input event.\n   */\n  const updateCard = (\n    index: number,\n    field: 'Front' | 'Back',\n    value: string | null | undefined\n  ) => {\n    const newValue = value ?? '';\n    setCards(\n      cards.map((card, i) =>\n        i === index ? { ...card, [field]: newValue } : card\n      )\n    );\n  };\n\n  // --- Save Logic ---\n\n  /**\n   * Orchestrates saving all changes (set details, card adds/updates/deletes) to the backend.\n   * 1. Compares edited set details with original and queues PUT requests if changed.\n   * 2. Compares original card list with current list and queues DELETE requests for removed cards.\n   * 3. Iterates through current cards:\n   *    - Queues POST requests for new cards (ID <= 0).\n   *    - Compares existing cards (ID > 0) with originals and queues PUT requests if changed.\n   * 4. Executes all queued API calls concurrently using `Promise.all`.\n   * 5. Provides user feedback (loading state, toasts) and re-fetches data on success.\n   * @async\n   */\n  const handleSaveChanges = async () => {\n    if (!originalSetDetails || isSaving) return;\n\n    setIsSaving(true);\n    setSaveError(null);\n    const apiPromises: Promise<any>[] = [];\n\n    // Step 1: Check for Set Detail Updates\n    if (editedSetName !== originalSetDetails.SetName) {\n      apiPromises.push(\n        makeHttpCall(`/api/flashcards/sets/set_name`, {\n          method: 'PUT',\n          headers: { id: originalSetDetails.ID, set_name: editedSetName },\n        })\n      );\n    }\n    if (editedSetDescription !== originalSetDetails.SetDescription) {\n      apiPromises.push(\n        makeHttpCall(`/api/flashcards/sets/set_description`, {\n          method: 'PUT',\n          headers: {\n            id: originalSetDetails.ID,\n            set_description: editedSetDescription,\n          },\n        })\n      );\n    }\n\n    // Step 2: Check for Card Deletions\n    const currentCardIds = new Set(\n      cards.map((card) => card.ID).filter((id) => id > 0)\n    );\n    if (originalCards) {\n      originalCards.forEach((originalCard) => {\n        if (!currentCardIds.has(originalCard.ID)) {\n          apiPromises.push(\n            makeHttpCall(`/api/flashcards`, {\n              method: 'DELETE',\n              headers: { id: originalCard.ID },\n            })\n          );\n        }\n      });\n    }\n    // Step 3: Check for Card Updates and Creations\n    cards.forEach((card) => {\n      if (card.ID <= 0) {\n        // Case: New Card - Queue POST request\n        apiPromises.push(\n          makeHttpCall<Flashcard>(`/api/flashcards`, {\n            method: 'POST',\n            headers: {\n              front: card.Front,\n              back: card.Back,\n              id: originalSetDetails.ID,\n            },\n          })\n        );\n      } else {\n        // Case: Existing Card - Check for updates\n        const originalCard = originalCards.find((oc) => oc.ID === card.ID);\n        if (originalCard) {\n          // Subcase: Front updated - Queue PUT request\n          if (card.Front !== originalCard.Front) {\n            apiPromises.push(\n              makeHttpCall(`/api/flashcards/front`, {\n                method: 'PUT',\n                headers: { id: card.ID, front: card.Front },\n              })\n            );\n          }\n          // Subcase: Back updated - Queue PUT request\n          if (card.Back !== originalCard.Back) {\n            apiPromises.push(\n              makeHttpCall(`/api/flashcards/back`, {\n                method: 'PUT',\n                headers: { id: card.ID, back: card.Back },\n              })\n            );\n          }\n        }\n      }\n    });\n\n    // Step 4: Execute all API Calls\n    try {\n      await Promise.all(apiPromises);\n      presentToast({\n        message: 'Changes saved successfully!',\n        duration: 2000,\n        color: 'success',\n      });\n      await fetchData();\n    } catch (err) {\n      console.error('Error saving changes:', err);\n      let message = 'Unknown error during save';\n      if (err instanceof Error) message = err.message;\n      setSaveError(`Failed to save changes: ${message}`);\n      presentToast({\n        message: `Save failed: ${message}`,\n        duration: 3000,\n        color: 'danger',\n      });\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  // --- Render --- //\n\n  return (\n    <IonPage>\n      <Navbar />\n      <IonContent className=\"ion-padding\">\n        <div\n          id=\"main-content\"\n          className=\"container mx-auto px-4 py-8 max-w-4xl\"\n        >\n          <h1 className=\"text-3xl font-bold mb-6\">Edit Flashcard Set</h1>\n\n          <IonLoading isOpen={loading} message={'Loading set data...'} />\n          <IonLoading isOpen={isSaving} message={'Saving changes...'} />\n\n          {error && !loading && (\n            <IonText color=\"danger\" className=\"block mb-4\">\n              <p>Error loading data: {error}</p>\n            </IonText>\n          )}\n          {saveError && !isSaving && (\n            <IonText color=\"danger\" className=\"block mb-4\">\n              <p>Error saving: {saveError}</p>\n            </IonText>\n          )}\n\n          {!loading && !error && originalSetDetails && (\n            <>\n              {/* Use SetMetadataEditor Component */}\n              <SetMetadataEditor\n                setName={editedSetName}\n                setDescription={editedSetDescription}\n                onNameChange={(value) =>\n                  handleSetDetailChange('SetName', value)\n                }\n                onDescriptionChange={(value) =>\n                  handleSetDetailChange('SetDescription', value)\n                }\n              />\n\n              {/* Use FlashcardListEditor Component */}\n              <FlashcardListEditor\n                cards={cards}\n                onAddCard={addCard}\n                onRemoveCard={removeCard}\n                onUpdateCard={updateCard}\n              />\n\n              {/* Save Changes Button remains here */}\n              <div className=\"flex justify-end\">\n                <IonButton\n                  onClick={handleSaveChanges}\n                  color=\"primary\"\n                  disabled={isSaving}\n                >\n                  {isSaving ? 'Saving...' : 'Save Changes'}\n                </IonButton>\n              </div>\n            </>\n          )}\n        </div>\n      </IonContent>\n      <Footer />\n    </IonPage>\n  );\n};\n\nexport default EditSet;\n","import { FlashCard } from '@/components/FlashCard';\nimport { Navbar } from '@/components/Navbar';\nimport {\n  Carousel,\n  type CarouselApi,\n  CarouselContent,\n  CarouselItem,\n} from '@/components/ui/carousel';\nimport type { Flashcard, FlashcardSet } from '@/types/flashcards';\nimport { makeHttpCall } from '@/utils/makeHttpCall';\nimport { IonButton, IonContent, IonSpinner } from '@ionic/react';\nimport { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\n\nconst Flashcard = () => {\n  const { id } = useParams<{ id: string }>();\n  const history = useHistory();\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  // Use the Card type for state\n  const [cards, setCards] = useState<Flashcard[]>([]);\n  const [carouselApi, setCarouselApi] = useState<CarouselApi>();\n  const [currentCardIndex, setCurrentCardIndex] = useState(0);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchSetDetails = async () => {\n      try {\n        const data = await makeHttpCall<FlashcardSet>(`/api/flashcards/sets`, {\n          method: 'GET',\n          headers: { id },\n        });\n\n        setTitle(data.SetName);\n        setDescription(data.SetDescription);\n      } catch (error) {\n        console.error('Failed to fetch set info', error);\n      }\n    };\n\n    const fetchCards = async () => {\n      setLoading(true);\n      try {\n        const data = await makeHttpCall<Flashcard>(`/api/flashcards/list`, {\n          method: 'GET',\n          headers: { set_id: id },\n        });\n\n        setCards(Array.isArray(data) ? data : []);\n      } catch (error) {\n        console.error('Failed to fetch cards', error);\n        setCards([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (id) {\n      fetchSetDetails();\n      fetchCards();\n    }\n  }, [id]);\n\n  useEffect(() => {\n    if (!carouselApi) {\n      return;\n    }\n\n    const onSelect = () => {\n      setCurrentCardIndex(carouselApi.selectedScrollSnap());\n    };\n\n    onSelect();\n\n    carouselApi.on('select', onSelect);\n    carouselApi.on('reInit', onSelect);\n\n    return () => {\n      carouselApi.off('select', onSelect);\n      carouselApi.off('reInit', onSelect);\n    };\n  }, [carouselApi]);\n\n  const handleAdvance = () => {\n    if (carouselApi) {\n      carouselApi.scrollNext();\n    }\n  };\n\n  return (\n    <IonContent className=\"ion-padding\">\n      <Navbar />\n\n      <div id=\"main-content\" className=\"container mx-auto px-4 py-8 max-w-4xl\">\n        {/* Flashcards */}\n        <div className=\"flex items-center gap-4 mb-6\">\n          <IonButton\n            className=\"rounded-lg\"\n            fill=\"outline\"\n            style={{ '--border-radius': '0.5rem' }}\n            routerLink={`/set-overview/${id}`}\n          >\n            Back\n          </IonButton>\n          <div>\n            <h1 className=\"text-2xl font-bold\">{title}</h1>\n            <p className=\"text-gray-500\">{description}</p>\n          </div>\n        </div>\n\n        <div className=\"w-full max-w-xl mx-auto relative py-8 min-h-[400px] flex items-center justify-center\">\n          {loading ? (\n            <IonSpinner name=\"circular\" />\n          ) : cards.length === 0 ? (\n            <div className=\"text-center text-gray-500 text-lg py-20\">\n              This set has no cards yet.\n            </div>\n          ) : (\n            <>\n              <Carousel\n                orientation=\"vertical\"\n                setApi={setCarouselApi}\n                className=\"w-full\"\n              >\n                <CarouselContent className=\"-mt-1 h-[400px]\">\n                  {cards.map((card, index) => (\n                    <CarouselItem key={index}>\n                      <FlashCard\n                        front={card.Front}\n                        back={card.Back}\n                        onAdvance={handleAdvance}\n                        // Pass cardId and a placeholder userId\n                        cardId={card.ID}\n                      />\n                    </CarouselItem>\n                  ))}\n                </CarouselContent>\n              </Carousel>\n\n              <div className=\"absolute right-[-50px] top-1/2 transform -translate-y-1/2 flex flex-col gap-2\">\n                {cards.map((_, index) => (\n                  <div\n                    key={index}\n                    className={`w-2 h-2 rounded-full transition-colors ${\n                      index === currentCardIndex ? 'bg-primary' : 'bg-gray-300'\n                    }`}\n                  />\n                ))}\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </IonContent>\n  );\n};\n\nexport default Flashcard;\n","import { Footer } from '@/components/Footer';\nimport { Navbar } from '@/components/Navbar';\nimport { makeHttpCall } from '@/utils/makeHttpCall';\nimport {\n  IonButton,\n  IonCard,\n  IonCardContent,\n  IonCardHeader,\n  IonCardSubtitle,\n  IonCardTitle,\n  IonContent,\n  IonIcon,\n  IonLabel,\n  IonSegment,\n  IonSegmentButton,\n  IonSpinner,\n} from '@ionic/react';\nimport { addOutline, bookOutline, listOutline } from 'ionicons/icons';\nimport { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\ntype Class = {\n  ClassID: number;\n  Role: string;\n  ClassName: string;\n  ClassDescription: string;\n};\n\ntype Set = {\n  SetID: number;\n  SetName: string;\n  SetDescription: string;\n  CreatedAt: string;\n  UpdatedAt: string;\n};\n\nconst Home = () => {\n  const [tab, setTab] = useState('classes');\n  const [classes, setClasses] = useState<Class[]>([]);\n  const [sets, setSets] = useState<Set[]>([]);\n  const [classesLoading, setClassesLoading] = useState(false);\n  const [setsLoading, setSetsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    console.log('Classes state updated:', classes);\n  }, [classes]);\n\n  // Currently getting all classes, but should be getting only the classes the user is in. waiting on backend to implement this.\n  useEffect(() => {\n    const fetchClassesOfUser = async () => {\n      setClassesLoading(true);\n      setError(null);\n      try {\n        const data = await makeHttpCall<Class[]>(`/api/class_user/classes`);\n        console.log('Classes: ', data);\n        setClasses(data);\n      } catch (error) {\n        setError(`Error fetching classes: ${error.message}`);\n      } finally {\n        setClassesLoading(false);\n      }\n    };\n\n    const fetchSetsOfUser = async () => {\n      setSetsLoading(true);\n      try {\n        const data = await makeHttpCall<Set[]>(`/api/set_user/list`);\n        console.log('Sets: ', data);\n        setSets(data);\n      } catch (error) {\n        setError(`Error fetching sets: ${error.message}`);\n      } finally {\n        setSetsLoading(false);\n      }\n    };\n\n    fetchClassesOfUser();\n    fetchSetsOfUser();\n  }, []);\n\n  // const suggestedFlashcardSets = [\n  //   { id: 1, name: 'Physics Essentials', cards: 18 },\n  //   { id: 2, name: 'Spanish Phrases', cards: 22 },\n  //   { id: 3, name: 'World Capitals', cards: 12 },\n  //   { id: 4, name: 'Algebraic Equations', cards: 20 },\n  //   { id: 5, name: 'Shakespearean Plays', cards: 14 },\n  //   { id: 6, name: 'Ancient Civilizations', cards: 9 },\n  // ];\n\n  return (\n    <>\n      <IonContent className=\"ion-padding flex flex-col min-h-screen\" fullscreen>\n        <Navbar />\n        <div\n          id=\"main-content\"\n          className=\"container mx-auto px-4 py-8 flex-grow\"\n        >\n          {error && <div className=\"text-red-500 mt-2\">{error}</div>}\n          <div className=\"flex flex-col md:flex-row md:justify-between md:items-center mb-8\">\n            <h1 className=\"text-3xl font-bold\">\n              {tab === 'classes' ? 'My Classes' : 'Personal Flashcard Sets'}\n            </h1>\n            <div className=\"flex items-center gap-2 mt-4 md:mt-0\">\n              <IonButton\n                color=\"primary\"\n                className=\"rounded-lg\"\n                style={{ '--border-radius': '0.5rem' }}\n                href={tab === 'classes' ? '/create-class' : '/create-set'}\n              >\n                <IonIcon slot=\"start\" icon={addOutline} />{' '}\n                {tab === 'classes' ? 'Add Class' : 'Add Set'}\n              </IonButton>\n            </div>\n          </div>\n\n          <div className=\"mb-8\">\n            <IonSegment\n              value={tab}\n              onIonChange={(e) =>\n                setTab((e.detail.value as string) || 'classes')\n              }\n              style={{\n                '--background': 'var(--ion-color-light)',\n              }}\n            >\n              <IonSegmentButton value=\"classes\">\n                <IonIcon icon={listOutline} className=\"mr-2\" />\n                <IonLabel>My Classes</IonLabel>\n              </IonSegmentButton>\n              <IonSegmentButton value=\"flashcards\">\n                <IonIcon icon={bookOutline} className=\"mr-2\" />\n                <IonLabel>My Cards</IonLabel>\n              </IonSegmentButton>\n            </IonSegment>\n          </div>\n\n          {tab === 'classes' && (\n            <>\n              {classesLoading ? (\n                <div className=\"flex justify-center items-center p-8\">\n                  <IonSpinner name=\"circular\" />\n                  <span className=\"ml-2\">Loading classes...</span>\n                </div>\n              ) : classes === null ? (\n                <div className=\"text-center p-8 text-gray-600\">\n                  You are not part of any classes. Join a class to get started.\n                </div>\n              ) : (\n                <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n                  {classes.map((cls) => (\n                    <Link key={cls.ClassID} to={`/class/${cls.ClassID}`}>\n                      <IonCard className=\"cursor-pointer hover:shadow-lg hover:-translate-y-1 transition-transform-shadow duration-200 rounded-lg border shadow-sm\">\n                        <IonCardHeader className=\"flex flex-col space-y-1.5 p-6\">\n                          <IonCardTitle className=\"text-2xl font-semibold leading-none tracking-tight\">\n                            {cls.ClassName}\n                          </IonCardTitle>\n                          <IonCardSubtitle className=\"text-sm text-muted-foreground\">\n                            {cls.ClassDescription}\n                          </IonCardSubtitle>\n                        </IonCardHeader>\n                        <IonCardContent>\n                          {/* <IonText className=\"text-sm text-gray-600\">\n                          {cls.sets} sets\n                        </IonText> */}\n                        </IonCardContent>\n                      </IonCard>\n                    </Link>\n                  ))}\n                </div>\n              )}\n            </>\n          )}\n\n          {tab === 'flashcards' && (\n            <>\n              {setsLoading ? (\n                <div className=\"flex justify-center items-center p-8\">\n                  <IonSpinner name=\"circular\" />\n                  <span className=\"ml-2\">Loading sets...</span>\n                </div>\n              ) : sets === null ? (\n                <div className=\"text-center p-8 text-gray-600\">\n                  You are not part of any sets. Join a set to get started.\n                </div>\n              ) : (\n                <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n                  {sets.map((set) => (\n                    <Link key={set.SetID} to={`/set-overview/${set.SetID}`}>\n                      <IonCard className=\"cursor-pointer hover:shadow-lg hover:-translate-y-1 transition-transform-shadow duration-200 rounded-lg border shadow-sm\">\n                        <IonCardHeader className=\"flex flex-col space-y-1.5 p-6\">\n                          <IonCardTitle className=\"text-2xl font-semibold leading-none tracking-tight\">\n                            {set.SetName}\n                          </IonCardTitle>\n                          <IonCardSubtitle className=\"text-sm text-muted-foreground\">\n                            {set.SetDescription}\n                          </IonCardSubtitle>\n                        </IonCardHeader>\n                        <IonCardContent>\n                          {/* <IonText className=\"text-sm text-gray-600\">\n                          {set.cards} cards\n                        </IonText> */}\n                        </IonCardContent>\n                      </IonCard>\n                    </Link>\n                  ))}\n                </div>\n              )}\n            </>\n          )}\n        </div>\n        <Footer />\n      </IonContent>\n    </>\n  );\n};\n\nexport default Home;\n","import { AuthForm } from '@/components/auth/AuthForm';\nimport { IonContent } from '@ionic/react';\n\nconst Index = () => {\n  return (\n    <IonContent>\n      <div className=\"min-h-screen flex flex-col items-center justify-center from-white to-gray-50\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-4xl font-bold text-primary mb-2\">CowboyCards</h1>\n          <p>Master any subject with smart flashcards</p>\n        </div>\n        <AuthForm />\n      </div>\n    </IonContent>\n  );\n};\n\nexport default Index;\n","import { Navbar } from '@/components/Navbar';\nimport { IonContent } from '@ionic/react';\nimport { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nconst NotFound = () => {\n  const location = useLocation();\n\n  useEffect(() => {\n    console.error(\n      '404 Error: User attempted to access non-existent route:',\n      location.pathname\n    );\n  }, [location.pathname]);\n\n  return (\n    <IonContent>\n      <Navbar />\n\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-100\">\n        <div className=\"text-center\">\n          <h1 className=\"text-4xl font-bold mb-4\">404</h1>\n          <p className=\"text-xl text-gray-600 mb-4\">Oops! Page not found</p>\n          <a href=\"/\" className=\"text-blue-500 hover:text-blue-700 underline\">\n            Return to Home\n          </a>\n        </div>\n      </div>\n    </IonContent>\n  );\n};\n\nexport default NotFound;\n","import { Navbar } from '@/components/Navbar';\nimport { makeHttpCall } from '@/utils/makeHttpCall';\nimport {\n  IonCard,\n  IonCardHeader,\n  IonCardSubtitle,\n  IonCardTitle,\n  IonContent,\n  IonSearchbar,\n} from '@ionic/react';\nimport { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\ntype FlashcardSet = {\n  ID: number;\n  SetName: string;\n  SetDescription: string;\n};\n\nconst PublicFlashcards = () => {\n  const [error, setError] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [flashcardSets, setFlashcardSets] = useState<FlashcardSet[]>([]);\n  const [searchText, setSearchText] = useState('');\n  const filteredFlashcardSets = flashcardSets.filter(\n    (set) =>\n      set.SetName.toLowerCase().includes(searchText.toLowerCase()) ||\n      (set.SetDescription &&\n        set.SetDescription.toLowerCase().includes(searchText.toLowerCase()))\n  );\n  useEffect(() => {\n    async function fetchSets() {\n      setLoading(true);\n      setError(null);\n      try {\n        const res = await makeHttpCall<FlashcardSet[]>(\n          `/api/flashcards/sets/list`\n        );\n        setFlashcardSets(res);\n      } catch (error) {\n        console.error('Error fetching flashcard sets:', error);\n        setError(`Error fetching flashcard sets: ${error.message}`);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchSets();\n  }, []);\n\n  return (\n    <IonContent>\n      <Navbar />\n      <div id=\"main-content\" className=\"container mx-auto px-4 py-8 w-1/2\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h1 className=\"text-3xl font-bold pb-8\">Public Flashcard Sets</h1>\n          {loading && <div>Loading...</div>}\n          {error && <div className=\"text-red-500 mt-2\">{error}</div>}\n          <IonSearchbar\n            value={searchText}\n            onIonInput={(e: any) => setSearchText(e.target.value)} // Use onIonInput for real-time updates\n            placeholder=\"Search flashcard sets\"\n            className=\"mb-4 w-1/2\"\n          />\n        </div>\n        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n          {filteredFlashcardSets.map((set) => (\n            <Link key={set.ID} to={`/flashcards/${set.ID}`}>\n              <IonCard className=\"cursor-pointer hover:shadow-lg hover:-translate-y-1 transition-transform-shadow duration-200 rounded-lg border shadow-sm\">\n                <IonCardHeader className=\"flex flex-col space-y-1.5 p-6\">\n                  <IonCardTitle className=\"text-2xl font-semibold leading-none tracking-tight\">\n                    {set.SetName}\n                  </IonCardTitle>\n                  <IonCardSubtitle className=\"text-sm text-gray-600\">\n                    {set.SetDescription || 'No description'}\n                  </IonCardSubtitle>\n                </IonCardHeader>\n              </IonCard>\n            </Link>\n          ))}\n        </div>\n      </div>\n    </IonContent>\n  );\n};\n\nexport default PublicFlashcards;\n","import { Navbar } from '@/components/Navbar';\nimport { makeHttpCall } from '@/utils/makeHttpCall';\nimport {\n  IonButton,\n  IonCard,\n  IonCardHeader,\n  IonCardSubtitle,\n  IonCardTitle,\n  IonContent,\n} from '@ionic/react';\nimport { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\ntype Class = {\n  ID: number;\n  ClassName: string;\n  ClassDescription: string;\n  CreatedAt: string;\n  UpdatedAt: string;\n};\n\n// const mockClasses = [\n//   {\n//     ID: 1,\n//     ClassName: 'Biology 101',\n//     ClassDescription: 'Biology',\n//     CreatedAt: '2023-01-15',\n//     UpdatedAt: '2023-05-20',\n//   },\n//   {\n//     ID: 2,\n//     ClassName: 'Chemistry 101',\n//     ClassDescription: 'Chemistry',\n//     CreatedAt: '2025-01-15',\n//     UpdatedAt: '2023-05-20',\n//   },\n//   {\n//     ID: 3,\n//     ClassName: 'physic 101',\n//     ClassDescription: 'physic',\n//     CreatedAt: '2023-01-11',\n//     UpdatedAt: '2023-05-10',\n//   },\n// ]\nconst PublicClasses = () => {\n  const [classes, setClasses] = useState<Class[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchClasses = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const res = await makeHttpCall<Class[]>(`/api/classes/list`);\n        setClasses(res);\n        setLoading(false);\n      } catch (error) {\n        setError(`Error fetching classes: ${error.message}`);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchClasses();\n  }, []);\n\n  return (\n    <IonContent>\n      <Navbar />\n      <div id=\"main-content\" className=\"container mx-auto px-4 py-8\">\n        <h1 className=\"text-3xl font-bold pb-8\">Public Classes</h1>\n        {loading && <div>Loading...</div>}\n        {error && <div className=\"text-red-500 mt-2\">{error}</div>}\n        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n          {classes.map((classItem) => (\n            // TODO: INstead of a link, navigate after the response comes back\n            <Link key={classItem.ID} to={`/class/${classItem.ID}`}>\n              <IonCard className=\"cursor-pointer hover:shadow-lg hover:-translate-y-1 transition-transform-shadow duration-200 rounded-lg border shadow-sm\">\n                <IonCardHeader className=\"flex flex-col space-y-1.5 p-6\">\n                  <IonCardTitle className=\"text-2xl font-semibold leading-none tracking-tight\">\n                    {classItem.ClassName}\n                  </IonCardTitle>\n                  <IonCardSubtitle className=\"text-sm text-gray-600\">\n                    {classItem.ClassDescription || 'No description'}\n                  </IonCardSubtitle>\n                  <IonButton\n                    expand=\"block\"\n                    color=\"primary\"\n                    className=\"mt-4\"\n                    // TODO: Use state instead of onClick\n                    onClick={async () => {\n                      try {\n                        const response = await makeHttpCall(`/api/class_user`, {\n                          method: 'POST',\n                          headers: {\n                            class_id: classItem.ID,\n                            role: 'student',\n                          },\n                        });\n                        console.log('Join class response:', response);\n                      } catch (error) {\n                        console.error('Error joining class:', error);\n                      }\n                    }}\n                  >\n                    Join Class\n                  </IonButton>\n                </IonCardHeader>\n              </IonCard>\n            </Link>\n          ))}\n        </div>\n      </div>\n    </IonContent>\n  );\n};\n\nexport default PublicClasses;\n","// SetOverview.tsx\nimport { Navbar } from '@/components/Navbar';\nimport { Flashcard, FlashcardSet } from '@/types/flashcards';\nimport { makeHttpCall } from '@/utils/makeHttpCall';\nimport {\n  IonAlert,\n  IonButton,\n  IonCard,\n  IonCardContent,\n  IonContent,\n  IonSpinner,\n  IonText,\n} from '@ionic/react';\nimport { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\n\nconst SetOverview = () => {\n  const { id } = useParams<{ id: string }>();\n  const history = useHistory();\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  /**\n   * State to hold the list of flashcards for the current set.\n   * @type {[Flashcard[], React.Dispatch<React.SetStateAction<Flashcard[]>>]}\n   */\n  const [cards, setCards] = useState<Flashcard[]>([]);\n  const [loadingCards, setLoadingCards] = useState(true);\n\n  /**\n   * State to control the visibility of the delete confirmation alert.\n   * @type {[boolean, React.Dispatch<React.SetStateAction<boolean>>]}\n   */\n  const [showDeleteAlert, setShowDeleteAlert] = useState(false);\n\n  useEffect(() => {\n    const fetchSetDetails = async () => {\n      try {\n        const setRes = await makeHttpCall<FlashcardSet>(\n          `/api/flashcards/sets/`,\n          {\n            method: 'GET',\n            headers: { id: id },\n          }\n        );\n        setTitle(setRes.SetName);\n        setDescription(setRes.SetDescription);\n      } catch (error) {\n        console.error('Failed to fetch set info', error);\n      }\n    };\n\n    const fetchCards = async () => {\n      setLoadingCards(true);\n      try {\n        const res = await makeHttpCall<Flashcard[]>(`/api/flashcards/list`, {\n          method: 'GET',\n          headers: { set_id: id },\n        });\n        // Store the full Flashcard objects, assuming the API returns Flashcard[]\n        setCards(Array.isArray(res) ? res : []);\n      } catch (error) {\n        console.error('Failed to fetch cards', error);\n        setCards([]);\n      } finally {\n        setLoadingCards(false);\n      }\n    };\n\n    if (id) {\n      fetchSetDetails();\n      fetchCards();\n    }\n  }, [id]);\n\n  /**\n   * Handles the deletion of the current flashcard set.\n   * Sends a DELETE request to the API and navigates to the dashboard on success.\n   */\n  const handleDeleteSet = async () => {\n    if (!id) {\n      console.error('Cannot delete set: ID is missing.');\n      return; // Prevent API call if id is somehow missing\n    }\n    try {\n      // Send DELETE request to the backend API\n      await makeHttpCall<void>( // Expecting no content on successful delete\n        `/api/flashcards/sets/`,\n        {\n          method: 'DELETE',\n          headers: {\n            id: id, // Pass the set ID in the header\n          },\n        }\n      );\n      // Navigate back to the student dashboard or a relevant page after deletion\n      history.push('/student-dashboard');\n      // Optional: Show a success toast message here\n    } catch (error) {\n      console.error('Failed to delete set:', error);\n      // Optional: Show an error toast message here\n      // Consider more specific error handling based on API responses if available\n    }\n  };\n\n  return (\n    <IonContent className=\"ion-padding\">\n      <Navbar />\n      <div id=\"main-content\" className=\"container max-w-4xl mx-auto px-4 py-8\">\n        <div className=\"flex flex-col md:flex-row justify-between items-start gap-4 mb-6\">\n          {/* Left: Back Button + Title & Description aligned */}\n          <div className=\"flex items-center gap-4 flex-1 pr-4\">\n            {/* Back Button */}\n            <IonButton\n              className=\"rounded-lg\"\n              fill=\"outline\"\n              style={{ '--border-radius': '0.5rem' }}\n              onClick={() => window.history.back()}\n            >\n              Back\n            </IonButton>\n\n            {/* Title + Description (stacked) */}\n            <div className=\"flex flex-col\">\n              <h1 className=\"text-3xl font-bold\">{title}</h1>\n              <p className=\"text-base mt-1 text-gray-700\">{description}</p>\n            </div>\n          </div>\n\n          {/* Right: Action Buttons */}\n          <div className=\"self-start md:self-center flex gap-2 md:mt-0 mt-4 w-full md:w-auto\">\n            {/* Edit Set Button */}\n            <IonButton\n              className=\"rounded-lg w-1/3 md:w-auto\"\n              fill=\"outline\"\n              style={{ '--border-radius': '0.5rem' }}\n              routerLink={`/edit-set/${id}`}\n            >\n              Edit Set\n            </IonButton>\n            {/* Study Set Button */}\n            <IonButton\n              className=\"rounded-lg w-1/3 md:w-auto\"\n              color={'primary'}\n              style={{ '--border-radius': '0.5rem' }}\n              routerLink={`/flashcards/${id}`}\n            >\n              Study Set\n            </IonButton>\n            {/* Delete Set Button */}\n            <IonButton\n              className=\"rounded-lg w-1/3 md:w-auto\"\n              color={'danger'}\n              style={{ '--border-radius': '0.5rem' }}\n              onClick={() => setShowDeleteAlert(true)}\n            >\n              Delete Set\n            </IonButton>\n          </div>\n        </div>\n\n        <div className=\"mt-8 min-h-[200px] flex items-center justify-center\">\n          {loadingCards ? (\n            <IonSpinner name=\"circular\" />\n          ) : cards.length === 0 ? (\n            <div className=\"text-center\">\n              <p className=\"text-lg text-gray-900 dark:text-gray-400 mb-4\">\n                This set has no cards yet.\n              </p>\n              <IonButton\n                color=\"primary\"\n                className=\"rounded-lg\"\n                style={{ '--border-radius': '0.5rem' }}\n                routerLink={`/edit-set/${id}`}\n              >\n                Add Cards\n              </IonButton>\n            </div>\n          ) : (\n            <div className=\"w-full\">\n              {cards.map((card, index) => (\n                <IonCard\n                  key={index}\n                  className=\"mb-4 rounded-lg border shadow-sm\"\n                >\n                  <IonCardContent>\n                    {/* Card number label */}\n                    <div className=\"border-b border-gray-300 mb-3 pb-1 m-4\">\n                      <IonText className=\"text-md font-semibold text-gray-900 dark:text-gray-300\">\n                        Card {index + 1}\n                      </IonText>\n                    </div>\n\n                    {/* Front / Back layout */}\n                    <div className=\"flex flex-row justify-between items-start\">\n                      {/* Front (30%) */}\n                      <div className=\"w-3/12 pr-4 border-r border-gray-300 m-4\">\n                        <IonText className=\"block whitespace-pre-wrap text-lg text-gray-900 dark:text-gray-200\">\n                          {card.Front}\n                        </IonText>\n                      </div>\n\n                      {/* Back (70%) */}\n                      <div className=\"w-9/12 pl-4 m-4\">\n                        <IonText className=\"block whitespace-pre-wrap text-lg text-gray-900 dark:text-gray-200\">\n                          {card.Back}\n                        </IonText>\n                      </div>\n                    </div>\n                  </IonCardContent>\n                </IonCard>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Delete Confirmation Alert */}\n      <IonAlert\n        isOpen={showDeleteAlert}\n        onDidDismiss={() => setShowDeleteAlert(false)}\n        header={'Confirm Deletion'}\n        message={\n          'Are you sure you want to delete this set? This action cannot be undone.'\n        }\n        buttons={[\n          {\n            text: 'Cancel',\n            role: 'cancel',\n            cssClass: 'secondary',\n            handler: () => {\n              console.log('Delete canceled');\n            },\n          },\n          {\n            text: 'Delete',\n            role: 'destructive',\n            handler: () => {\n              handleDeleteSet();\n            },\n          },\n        ]}\n      />\n    </IonContent>\n  );\n};\n\nexport default SetOverview;\n","import { Navbar } from '@/components/Navbar';\nimport {\n  IonCard,\n  IonCardContent,\n  IonCardHeader,\n  IonCardTitle,\n  IonContent,\n  IonText,\n} from '@ionic/react';\nimport { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst TeacherDashboard = () => {\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n\n  // Mock Data for teacher classes\n  // Each class has an id, name, number of students, number of sets, and cards mastered\n  // TODO: Replace with actual data from the database\n  const teacherClasses = [\n    {\n      id: 1,\n      name: 'Biology 101',\n      students: 25,\n      sets: 5,\n      cardsMastered: 85,\n    },\n    {\n      id: 2,\n      name: 'Spanish Basics',\n      students: 18,\n      sets: 3,\n      cardsMastered: 78,\n    },\n    {\n      id: 3,\n      name: 'World History',\n      students: 30,\n      sets: 7,\n      cardsMastered: 92,\n    },\n  ];\n\n  // Calculate summary statistics from the class data\n  // These statistics provide an overview of all classes at a glance\n  const totalClasses = teacherClasses.length;\n  const totalStudents = teacherClasses.reduce(\n    (sum, cls) => sum + cls.students,\n    0\n  );\n  const totalSets = teacherClasses.reduce((sum, cls) => sum + cls.sets, 0);\n\n  // Calculate average cards mastered across all classes\n  // We sum all cards mastered values, then divide by class count\n  const averageCardsMastered =\n    teacherClasses.reduce((sum, cls) => {\n      return sum + cls.cardsMastered;\n    }, 0) / totalClasses;\n\n  return (\n    <IonContent>\n      <Navbar />\n\n      <div id=\"main-content\" className=\"container mx-auto px-4 py-8\">\n        <h2 className=\"text-xl font-bold mb-4\">Overview</h2>\n        <div className=\"grid gap-4 grid-cols-1 md:grid-cols-4 mb-8\">\n          <IonCard className=\"rounded-lg border shadow-sm\">\n            <IonCardHeader className=\"flex flex-col space-y-1.5 p-6\">\n              <IonCardTitle className=\"text-2xl font-semibold leading-none tracking-tight\">\n                Total Classes\n              </IonCardTitle>\n            </IonCardHeader>\n            <IonCardContent>\n              <IonText className=\"text-2xl font-bold\">{totalClasses}</IonText>\n            </IonCardContent>\n          </IonCard>\n\n          <IonCard className=\"rounded-lg border shadow-sm\">\n            <IonCardHeader className=\"flex flex-col space-y-1.5 p-6\">\n              <IonCardTitle className=\"text-2xl font-semibold leading-none tracking-tight\">\n                Total Students\n              </IonCardTitle>\n            </IonCardHeader>\n            <IonCardContent>\n              <IonText className=\"text-2xl font-bold\">{totalStudents}</IonText>\n            </IonCardContent>\n          </IonCard>\n\n          <IonCard className=\"rounded-lg border shadow-sm\">\n            <IonCardHeader className=\"flex flex-col space-y-1.5 p-6\">\n              <IonCardTitle className=\"text-2xl font-semibold leading-none tracking-tight\">\n                Total Sets\n              </IonCardTitle>\n            </IonCardHeader>\n            <IonCardContent>\n              <IonText className=\"text-2xl font-bold\">{totalSets}</IonText>\n            </IonCardContent>\n          </IonCard>\n\n          <IonCard className=\"rounded-lg border shadow-sm\">\n            <IonCardHeader className=\"flex flex-col space-y-1.5 p-6\">\n              <IonCardTitle className=\"text-2xl font-semibold leading-none tracking-tight\">\n                Average Cards Mastered\n              </IonCardTitle>\n            </IonCardHeader>\n            <IonCardContent>\n              <IonText className=\"text-2xl font-bold\">\n                {averageCardsMastered.toFixed(1)}\n              </IonText>\n            </IonCardContent>\n          </IonCard>\n        </div>\n\n        <h2 className=\"text-xl font-bold mb-4\">Classes</h2>\n        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n          {teacherClasses.map((cls) => (\n            <Link key={cls.id} to={`/class/${cls.id}`}>\n              <IonCard className=\"cursor-pointer hover:shadow-lg hover:-translate-y-1 transition-transform-shadow duration-200 rounded-lg border shadow-sm\">\n                <IonCardHeader className=\"flex flex-col space-y-1.5 p-6\">\n                  <IonCardTitle className=\"text-2xl font-semibold leading-none tracking-tight\">\n                    {cls.name}\n                  </IonCardTitle>\n                  <IonText className=\"text-sm text-gray-600\">\n                    {cls.students} students enrolled\n                  </IonText>\n                </IonCardHeader>\n                <IonCardContent className=\"flex flex-col gap-0 p-6 pt-0\">\n                  <IonText className=\"text-sm text-gray-600\">\n                    {cls.sets} sets\n                  </IonText>\n                  <IonText className=\"text-sm text-gray-600\">\n                    Cards mastered: {cls.cardsMastered}\n                  </IonText>\n                </IonCardContent>\n              </IonCard>\n            </Link>\n          ))}\n        </div>\n      </div>\n    </IonContent>\n  );\n};\n\nexport default TeacherDashboard;\n","\n\nconst InfoRow = (props) => {\n  return (\n    <div className=\"flex justify-between items-center\">\n      <span className=\"font-medium\">{props.label}:</span>\n      <span>{props.value}</span>\n    </div>\n  );\n};\n\nexport default InfoRow;\n","import { EditableField } from '@/utils/EditableField';\nimport {\n  IonButton,\n  IonCard,\n  IonCardContent,\n  IonCardHeader,\n  IonCardTitle,\n  IonIcon,\n} from '@ionic/react';\nimport { createOutline } from 'ionicons/icons';\nimport InfoRow from '@/utils/InfoRow';\n\nconst UserAccountFirstRow = (props) => {\n  return (\n    <div className=\"flex flex-col md:flex-row gap-6\">\n      {/* Account Information Card */}\n      <IonCard className=\"w-full md:w-1/2 rounded-lg border shadow-sm\">\n        <IonCardHeader className=\"p-6\">\n          <IonCardTitle className=\"text-xl font-semibold text-primary\">\n            Account Information\n          </IonCardTitle>\n        </IonCardHeader>\n        <IonCardContent className=\"p-6 pt-0\">\n          {/* TODO: Make this into an EditingField component where you can pass whatever label or field you want. */}\n\n          {props.isEditing ? (\n            <div className=\"space-y-4\">\n              <EditableField\n                label=\"First Name\"\n                name=\"first_name\"\n                value={props.updatedInfo?.first_name || ''}\n                error={props.errors.first_name}\n                onChange={props.handleChange}\n              />\n              <EditableField\n                label=\"Last Name\"\n                name=\"last_name\"\n                value={props.updatedInfo?.last_name || ''}\n                error={props.errors.last_name}\n                onChange={props.handleChange}\n              />\n              <EditableField\n                label=\"Username\"\n                name=\"username\"\n                value={props.updatedInfo?.username || ''}\n                error={props.errors.username}\n                onChange={props.handleChange}\n              />\n              <EditableField\n                label=\"Email\"\n                name=\"email\"\n                value={props.updatedInfo?.email || ''}\n                error={props.errors.email}\n                onChange={props.handleChange}\n              />\n              <div className=\"mt-4 flex justify-end\">\n                <IonButton onClick={props.handleSave}>Save Changes</IonButton>\n              </div>\n            </div>\n          ) : (\n            <div className=\"space-y-2\">\n              <InfoRow label=\"First Name\" value={props.userInfo?.first_name} />\n              <InfoRow label=\"Last Name\" value={props.userInfo?.last_name} />\n              <InfoRow label=\"Username\" value={props.userInfo?.username} />\n              <InfoRow label=\"Email\" value={props.userInfo?.email} />\n              <IonButton\n                fill=\"outline\"\n                onClick={props.handleEdit}\n                className=\"mt-4\"\n              >\n                <IonIcon slot=\"start\" icon={createOutline} />\n                Edit Info\n              </IonButton>\n            </div>\n          )}\n        </IonCardContent>\n      </IonCard>\n\n      {/* Account Stats Card */}\n      <IonCard className=\"w-full md:w-1/2 rounded-lg border shadow-sm\">\n        <IonCardHeader className=\"p-6\">\n          <IonCardTitle className=\"text-xl font-semibold text-primary\">\n            Account Stats\n          </IonCardTitle>\n        </IonCardHeader>\n        <IonCardContent className=\"p-6 pt-0\">\n          <div className=\"space-y-3\">\n            <InfoRow\n              label=\"Account Created\"\n              value={props.userInfo?.created_at}\n            />\n            <InfoRow\n              label=\"Login Streak\"\n              value={props.userInfo?.login_streak}\n            />\n            <InfoRow label=\"Classes Taken\" value={props.userInfo?.numClasses} />\n            <InfoRow\n              label=\"Cards Mastered/Studied\"\n              value={`${props.userInfo?.cardsMastered} / ${props.userInfo?.cardsStudied}`}\n            />\n            <InfoRow\n              label=\"Total Card Views\"\n              value={props.userInfo?.totalCardViews}\n            />\n          </div>\n        </IonCardContent>\n      </IonCard>\n    </div>\n  );\n};\n\nexport default UserAccountFirstRow;\n","import {\n  IonCard,\n  IonCardContent,\n  IonCardHeader,\n  IonCardTitle,\n  IonList,\n  IonItem,\n  IonLabel,\n  IonIcon,\n  IonSelect,\n  IonSelectOption,\n  IonButton,\n  IonAlert,\n} from '@ionic/react';\nimport { chevronDownOutline, chevronUpOutline } from 'ionicons/icons';\n\nconst UserAccountSecondRow = (props) => {\n  return (\n    <>\n      {/* Second Row: Class History and Account Options */}\n      <div className=\"flex flex-col md:flex-row gap-6 py-6\">\n        {/* Class History Card */}\n        {/* TODO: Replace this what some other component. Idea: Track user streaks */}\n        {/* <IonCard className=\"w-full md:w-1/2 rounded-lg border shadow-sm\">\n          <IonCardHeader className=\"p-6\">\n            <IonCardTitle className=\"text-xl font-semibold text-primary\">\n              Class History\n            </IonCardTitle>\n          </IonCardHeader>\n          <IonCardContent className=\"p-6 pt-0\">\n            <IonList>\n              {props.classHistory.map((cls) => (\n                <div key={cls.id}>\n                  <IonItem button onClick={() => props.toggleClassDetails(cls.id)}>\n                    <IonLabel>{cls.title}</IonLabel>\n                    <IonIcon\n                      icon={\n                        props.expandedClass === cls.id\n                          ? chevronUpOutline\n                          : chevronDownOutline\n                      }\n                      slot=\"end\"\n                    />\n                  </IonItem>\n                  {props.expandedClass === cls.id && (\n                    <IonItem lines=\"none\">\n                      <div className=\"pl-4 text-gray-700\">\n                        <p>\n                          <span className=\"font-medium\">Date Started:</span>{' '}\n                          {cls.startDate}\n                        </p>\n                        <p>\n                          <span className=\"font-medium\">Date Ended:</span>{' '}\n                          {cls.endDate}\n                        </p>\n                        <a href={cls.link} className=\"text-primary underline\">\n                          Go to Class Page\n                        </a>\n                      </div>\n                    </IonItem>\n                  )}\n                </div>\n              ))}\n            </IonList>\n          </IonCardContent>\n        </IonCard> */}\n\n        {/* Account Options Card */}\n        <IonCard className=\"w-full md:w-1/2 rounded-lg border shadow-sm\">\n          <IonCardHeader className=\"p-6\">\n            <IonCardTitle className=\"text-xl font-semibold text-primary\">\n              Account Options\n            </IonCardTitle>\n          </IonCardHeader>\n          <IonCardContent className=\"p-6 pt-0\">\n            <div className=\"space-y-4\">\n              <IonItem>\n                {/* <IonLabel>Theme</IonLabel> */}\n                <IonSelect\n                  label=\"Theme\"\n                  value={props.theme}\n                  onIonChange={(e) =>\n                    props.setTheme(e.detail.value as 'light' | 'dark')\n                  }\n                  interface=\"popover\"\n                  placeholder=\"Select Theme\"\n                >\n                  <IonSelectOption value=\"light\">Light</IonSelectOption>\n                  <IonSelectOption value=\"dark\">Dark</IonSelectOption>\n                </IonSelect>\n              </IonItem>\n              <div className=\"flex justify-between items-center\">\n                <div>\n                  <p className=\"text-sm font-medium\">Change Your Password</p>\n                  <p className=\"text-xs text-gray-600\">\n                    Reset your account password.\n                  </p>\n                </div>\n                <IonButton onClick={() => props.setShowPasswordAlert(true)}>\n                  Change Password\n                </IonButton>\n              </div>\n              <div className=\"flex justify-between items-center\">\n                <div>\n                  <p className=\"text-sm font-medium\">Delete Your Account</p>\n                  <p className=\"text-xs text-gray-600\">\n                    This will delete all account data and can't be undone.\n                  </p>\n                </div>\n                <IonButton\n                  color=\"danger\"\n                  onClick={() => props.setShowDeleteAlert(true)}\n                >\n                  Delete Account\n                </IonButton>\n              </div>\n            </div>\n          </IonCardContent>\n        </IonCard>\n      </div>\n\n      {/* Change Password Alert */}\n      <IonAlert\n        isOpen={props.showPasswordAlert}\n        onDidDismiss={() => props.setShowPasswordAlert(false)}\n        header=\"Change Password\"\n        inputs={[\n          {\n            name: 'oldPassword',\n            type: 'password',\n            placeholder: 'Old Password',\n          },\n          {\n            name: 'newPassword',\n            type: 'password',\n            placeholder: 'New Password',\n          },\n          {\n            name: 'confirmPassword',\n            type: 'password',\n            placeholder: 'Confirm New Password',\n          },\n        ]}\n        buttons={[\n          {\n            text: 'Cancel',\n            role: 'cancel',\n            handler: () => {\n              console.log('Cancel clicked');\n            },\n          },\n          {\n            text: 'Save',\n            handler: (data) => {\n              if (data.newPassword !== data.confirmPassword) {\n                props.presentToast({\n                  message: 'Passwords do not match',\n                  duration: 2000,\n                  color: 'danger',\n                });\n                return true; // Allow the alert to close\n              }\n              // Add your password change logic here\n              console.log('Password changed');\n              return true;\n            },\n          },\n        ]}\n      />\n\n      {/* Delete Account Alert */}\n      <IonAlert\n        isOpen={props.showDeleteAlert}\n        onDidDismiss={() => props.setShowDeleteAlert(false)}\n        header=\"Confirm Deletion\"\n        message=\"Are you sure you want to delete your account? This action cannot be undone.\"\n        buttons={[\n          {\n            text: 'Cancel',\n            role: 'cancel',\n            handler: () => {\n              console.log('Cancel clicked');\n            },\n          },\n          {\n            text: 'Delete',\n            handler: () => {\n              // Add your delete account logic here\n              console.log('Account deleted');\n            },\n          },\n        ]}\n      />\n    </>\n  );\n};\n\nexport default UserAccountSecondRow;\n","import { Navbar } from '@/components/Navbar';\nimport { useTheme } from '@/contexts/ThemeContext';\nimport { makeHttpCall } from '@/utils/makeHttpCall';\nimport {\n  IonButton,\n  IonContent,\n  IonIcon,\n  IonSpinner,\n  useIonToast,\n} from '@ionic/react';\nimport { arrowBackOutline } from 'ionicons/icons';\nimport { useEffect, useState } from 'react';\nimport UserAccountFirstRow from '../components/UserAccountFirstRow';\nimport UserAccountSecondRow from '../components/UserAccountSecondRow';\n\ntype User = {\n  username: string;\n  email: string;\n  first_name: string;\n  last_name: string;\n  login_streak: number;\n  created_at: string;\n  numClasses: number;\n  cardsStudied: number;\n  cardsMastered: number;\n  totalCardViews: number;\n};\n\nconst UserAccount = () => {\n  const { theme, setTheme } = useTheme();\n  const [userInfo, setUserInfo] = useState<User>();\n  const [loading, setLoading] = useState(true); // Start loading initially\n  const [error, setError] = useState<string | null>(null);\n\n  // const [classHistory, setClassHistory] = useState([\n  //   {\n  //     id: 1,\n  //     title: \"Introduction to Computer Science\",\n  //     startDate: \"2024-01-15\",\n  //     endDate: \"2024-05-30\",\n  //     link: \"/class/1\"\n  //   },\n  //   {\n  //     id: 2,\n  //     title: \"Data Structures and Algorithms\",\n  //     startDate: \"2023-09-01\",\n  //     endDate: \"2023-12-15\",\n  //     link: \"/class/2\"\n  //   },\n  //   {\n  //     id: 3,\n  //     title: \"Web Development Fundamentals\",\n  //     startDate: \"2023-06-01\",\n  //     endDate: \"2023-08-15\",\n  //     link: \"/class/3\"\n  //   }\n  // ]);\n\n  const [expandedClass, setExpandedClass] = useState<number | null>(null);\n  const [showPasswordAlert, setShowPasswordAlert] = useState(false);\n  const [showDeleteAlert, setShowDeleteAlert] = useState(false);\n  const [isEditing, setIsEditing] = useState(false);\n  const [updatedInfo, setUpdatedInfo] = useState(userInfo);\n\n  const toggleClassDetails = (classID: number) => {\n    setExpandedClass(expandedClass === classID ? null : classID);\n  };\n\n  const handleEdit = () => {\n    setUpdatedInfo(userInfo);\n    setIsEditing(true);\n  };\n\n  const handleSave = async () => {\n    // Validate form before submission\n    if (!validateForm()) {\n      return;\n    }\n\n    // Define the fields that can be updated\n    const fieldsToUpdate = ['first_name', 'last_name', 'username', 'email'];\n\n    try {\n      // Identify which fields have changed and create API call promises\n      const updatePromises = fieldsToUpdate\n        .filter((field) => updatedInfo[field] !== userInfo[field]) // Only include modified fields\n        .map((field) =>\n          makeHttpCall<User>(`/api/users/${field}`, {\n            method: 'PUT',\n            headers: {\n              [field]: updatedInfo[field], // New value for the field\n            },\n          })\n        );\n\n      // Wait for all API calls to complete successfully\n      await Promise.all(updatePromises);\n      // If all updates succeed, update the local state and exit editing mode\n      setUserInfo(updatedInfo);\n      setIsEditing(false);\n    } catch (error) {\n      // Log the error and notify the user if any update fails\n      console.error(error);\n      alert('Failed to update some fields. Please try again.');\n    }\n  };\n\n  // Basic validation before submitting\n  const validateForm = () => {\n    const newErrors: {\n      first_name?: string;\n      last_name?: string;\n      email?: string;\n      username?: string;\n    } = {};\n    let isValid = true;\n\n    // First name validation\n    if (!updatedInfo.first_name) {\n      newErrors.first_name = 'First name is required';\n      isValid = false;\n    }\n\n    // Last name validation\n    if (!updatedInfo.last_name) {\n      newErrors.last_name = 'Last name is required';\n      isValid = false;\n    }\n\n    // Email validation\n    if (!updatedInfo.email) {\n      newErrors.email = 'Email is required';\n      isValid = false;\n    } else if (!/\\S+@\\S+\\.\\S+/.test(updatedInfo.email)) {\n      newErrors.email = 'Email is invalid';\n      isValid = false;\n    }\n\n    // Username validation\n    if (!updatedInfo.username) {\n      newErrors.username = 'Username is required';\n      isValid = false;\n    }\n\n    // Trim whitespace from the input values\n    updatedInfo.first_name = updatedInfo.first_name.trim();\n    updatedInfo.last_name = updatedInfo.last_name.trim();\n    updatedInfo.email = updatedInfo.email.trim();\n    updatedInfo.username = updatedInfo.username.trim();\n\n    setErrors(newErrors);\n    return isValid;\n  };\n\n  // Form validation\n  const [errors, setErrors] = useState<{\n    first_name?: string;\n    last_name?: string;\n    email?: string;\n    username?: string;\n    general?: string;\n  }>({});\n\n  const handleChange = (e: CustomEvent) => {\n    const { name } = e.target as HTMLIonInputElement;\n    const value = e.detail.value;\n    setUpdatedInfo((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n  };\n\n  useEffect(() => {\n    const fetchUserData = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const data = await makeHttpCall<User>(`/api/users/`, {\n          method: 'GET',\n          headers: {},\n        });\n        setUserInfo(data);\n        setUpdatedInfo(data);\n        console.log('data', data as User);\n      } catch (error) {\n        console.log(`Failed to fetch User Data: ${error.message}`);\n        setError(`Failed to fetch User Data: ${error.message}`);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchUserData();\n\n    // cleanup func not necessary here\n    // https://blog.logrocket.com/understanding-react-useeffect-cleanup-function/\n  }, []);\n\n  // Hook for showing toast messages, used for password change\n  const [presentToast] = useIonToast();\n\n  return (\n    <IonContent>\n      <Navbar />\n\n      <div id=\"main-content\" className=\"container mx-auto px-4 py-8\">\n        {/* Header Section */}\n        <div className=\"mb-8\">\n          <p className=\"text-xl font-semibold text-primary\">\n            Welcome back, {userInfo?.username || 'User'}!\n          </p>\n        </div>\n\n        {/* Back Button */}\n        <IonButton\n          onClick={() => window.history.back()}\n          fill=\"outline\"\n          className=\"mb-6\"\n        >\n          <IonIcon slot=\"start\" icon={arrowBackOutline} />\n          Back\n        </IonButton>\n\n        {/* Loading State */}\n        {loading && (\n          <div className=\"flex justify-center items-center p-8\">\n            <IonSpinner name=\"circular\" />\n            <span className=\"ml-2\">Loading account details...</span>\n          </div>\n        )}\n\n        {/* Error State */}\n        {error && !loading && (\n          <div className=\"text-red-500 text-center p-4 border border-red-500 rounded-md\">\n            {error}\n          </div>\n        )}\n\n        {/* Content: Only show if not loading and no error */}\n        {!loading && !error && userInfo && (\n          <>\n            <UserAccountFirstRow\n              isEditing={isEditing}\n              errors={errors}\n              handleChange={handleChange}\n              handleSave={handleSave}\n              updatedInfo={updatedInfo}\n              userInfo={userInfo}\n              handleEdit={handleEdit}\n            />\n            <UserAccountSecondRow\n              isEditing={isEditing}\n              errors={errors}\n              handleChange={handleChange}\n              handleSave={handleSave}\n              updatedInfo={updatedInfo}\n              userInfo={userInfo}\n              expandedClass={expandedClass}\n              toggleClassDetails={toggleClassDetails}\n              showPasswordAlert={showPasswordAlert}\n              setShowPasswordAlert={setShowPasswordAlert}\n              showDeleteAlert={showDeleteAlert}\n              setShowDeleteAlert={setShowDeleteAlert}\n              theme={theme}\n              setTheme={setTheme}\n              presentToast={presentToast}\n            />\n          </>\n        )}\n      </div>\n    </IonContent>\n  );\n};\n\nexport default UserAccount;\n","import { AuthForm } from '@/components/auth/AuthForm';\nimport ResetPass from '@/components/auth/ResetPass';\nimport { Toaster as Sonner } from '@/components/ui/sonner';\nimport { Toaster } from '@/components/ui/toaster';\nimport { TooltipProvider } from '@/components/ui/tooltip';\nimport { IonApp, IonRouterOutlet, setupIonicReact } from '@ionic/react';\nimport { IonReactRouter } from '@ionic/react-router';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { Suspense } from 'react';\nimport { Route } from 'react-router-dom';\nimport { ThemeProvider } from './contexts/ThemeContext';\nimport ClassDetail from './pages/ClassDetail';\nimport CreateClass from './pages/CreateClass';\nimport CreateSet from './pages/CreateSet';\nimport EditSet from './pages/EditSet';\nimport Flashcard from './pages/Flashcard';\nimport Home from './pages/Home';\nimport Index from './pages/Index';\nimport NotFound from './pages/NotFound';\nimport PublicCards from './pages/PublicCards';\nimport PublicClasses from './pages/PublicClasses';\nimport SetOverview from './pages/SetOverview';\nimport TeacherDashboard from './pages/TeacherDashboard';\nimport UserAccount from './pages/UserAccount';\n\n/* Core CSS required for Ionic components to work properly */\nimport '@ionic/react/css/core.css';\n\n/* Basic CSS for apps built with Ionic */\nimport '@ionic/react/css/normalize.css';\nimport '@ionic/react/css/structure.css';\nimport '@ionic/react/css/typography.css';\n\n/* Optional CSS utils that can be commented out */\nimport '@ionic/react/css/display.css';\nimport '@ionic/react/css/flex-utils.css';\nimport '@ionic/react/css/float-elements.css';\nimport '@ionic/react/css/padding.css';\nimport '@ionic/react/css/text-alignment.css';\nimport '@ionic/react/css/text-transformation.css';\n\n/* Theme variables */\nimport './theme/variables.css';\n\nsetupIonicReact();\n\nconst queryClient = new QueryClient();\n\n// const Home = React.lazy(() => import('./pages/Home'));\n// const PublicCards = React.lazy(() => import('./pages/PublicCards'));\n// const PublicClasses = React.lazy(() => import('./pages/PublicClasses'));\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <ThemeProvider>\n        <TooltipProvider>\n          <IonApp>\n            <IonReactRouter>\n              <Suspense fallback={<div>Loading...</div>}>\n                <IonRouterOutlet>\n                  <Route exact path=\"/\" component={Index} />\n                  <Route exact path=\"/home\" component={Home} />\n                  <Route exact path=\"/class/:id\" component={ClassDetail} />\n                  <Route exact path=\"/teacher\" component={TeacherDashboard} />\n                  <Route exact path=\"/auth\" component={AuthForm} />\n                  <Route exact path=\"/reset-password\" component={ResetPass} />\n                  <Route exact path=\"/public-cards\" component={PublicCards} />\n                  <Route exact path=\"/user-account\" component={UserAccount} />\n                  <Route exact path=\"/flashcards/:id\" component={Flashcard} />\n                  <Route exact path=\"/create-set\" component={CreateSet} />\n                  <Route exact path=\"/edit-set/:id\" component={EditSet} />\n                  <Route exact path=\"/create-class\" component={CreateClass} />\n                  <Route\n                    exact\n                    path=\"/public-classes\"\n                    component={PublicClasses}\n                  />\n                  <Route\n                    exact\n                    path=\"/set-overview/:id\"\n                    component={SetOverview}\n                  />\n                  <Route component={NotFound} />\n                </IonRouterOutlet>\n              </Suspense>\n            </IonReactRouter>\n          </IonApp>\n          <Toaster />\n          <Sonner />\n        </TooltipProvider>\n      </ThemeProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","import { createRoot } from 'react-dom/client';\nimport App from './App.tsx';\nimport './index.css';\n\nconst container = document.getElementById('root');\nconst root = createRoot(container!);\nroot.render(<App />);\n"],"names":["cn","inputs","twMerge","clsx","alertVariants","cva","Alert","React.forwardRef","className","variant","props","ref","jsx","AlertTitle","AlertDescription","buttonVariants","Button","size","asChild","Comp","Slot","Card","CardHeader","CardTitle","CardDescription","CardContent","CardFooter","Input","type","labelVariants","Label","LabelPrimitive.Root","TOAST_LIMIT","TOAST_REMOVE_DELAY","count","genId","toastTimeouts","addToRemoveQueue","toastId","timeout","dispatch","reducer","state","action","toast","t","listeners","memoryState","listener","id","update","dismiss","open","useToast","setState","React.useState","React.useEffect","index","defaultOpts","API_BASE","makeHttpCall","url","options","finalOpts","response","error","AuthForm","isLogin","setIsLogin","useState","isLoading","setIsLoading","email","setEmail","password","setPassword","username","setUsername","firstName","setFirstName","lastName","setLastName","errors","setErrors","ionRouter","useIonRouter","validateForm","newErrors","isValid","handleSubmit","e","data","resetForm","jsxs","AlertCircle","Fragment","Link","LogIn","IonButton","IonIcon","ResetPass","Toaster","theme","useTheme","Sonner","ToastProvider","ToastPrimitives.Provider","ToastViewport","ToastPrimitives.Viewport","toastVariants","Toast","ToastPrimitives.Root","ToastAction","ToastPrimitives.Action","ToastClose","ToastPrimitives.Close","X","ToastTitle","ToastPrimitives.Title","ToastDescription","ToastPrimitives.Description","toasts","title","description","TooltipProvider","TooltipPrimitive.Provider","TooltipContent","sideOffset","TooltipPrimitive.Content","ThemeContext","createContext","ThemeProvider","children","setTheme","savedTheme","useEffect","context","useContext","AddSetToClassDialog","isOpen","onDidDismiss","classId","existingSetIds","onSetAdded","userSets","setUserSets","availableSets","setAvailableSets","selectedSetId","setSelectedSetId","setError","presentToast","useIonToast","fetchUserSets","useCallback","fetchedSets","err","setsNotInClass","set","handleAddSet","errorMessage","IonModal","IonHeader","IonToolbar","IonTitle","IonButtons","IonContent","IonSpinner","IonText","IonRadioGroup","IonList","IonItem","IonRadio","IonLabel","ClassDetailControls","isTeacher","onAddSetClick","IonCardContent","arrowBackOutline","addOutline","createOutline","EditableField","IonInput","ClassDetailHeader","classData","loading","handleEdit","isEditing","updatedInfo","handleChange","handleSave","handleCancel","ClassDetailTabs","selectedTab","onTabChange","IonSegment","IonSegmentButton","bookOutline","trophyOutline","peopleOutline","FlashCard","front","back","onAdvance","cardId","isFlipped","setIsFlipped","handleScoreUpdate","endpoint","result","handleLearningClick","handleMasteredClick","Check","CarouselContext","React.createContext","useCarousel","React.useContext","Carousel","orientation","opts","setApi","plugins","carouselRef","api","useEmblaCarousel","canScrollPrev","setCanScrollPrev","canScrollNext","setCanScrollNext","onSelect","React.useCallback","scrollPrev","scrollNext","handleKeyDown","event","CarouselContent","CarouselItem","CarouselPrevious","ArrowLeft","CarouselNext","ArrowRight","FlashcardCarousel","history","useHistory","flashcards","setFlashcards","selectedSet","setSelectedSet","fetchFlashcards","cards","_a","IonGrid","IonRow","a","b","IonCol","IonCard","IonCardHeader","IonCardTitle","card","_","FlashcardTab","flashcardSets","currentCardIndex","FlashcardSetList","Footer","IonFooter","home","Leaderboard","leaderboard","entry","LeaderboardTab","leaderboardData","loadingScores","Navbar","popoverEvent","setPopoverEvent","openPopover","closePopover","handleMenuItemClick","route","router","toggleDarkMode","IonMenu","IonMenuToggle","close","menu","add","IonPopover","sunny","moon","personCircle","StudentList","students","onDeleteStudent","student","trashOutline","StudentTab","handleActualDelete","showDeleteAlert","setShowDeleteAlert","handleShowDeleteAlert","studentId","IonAlert","ClassDetail","useParams","setCurrentCardIndex","carouselApi","setCarouselApi","tab","setTab","setIsTeacher","setClassData","setFlashcardSets","classUsers","setClassUsers","setLoading","setLeaderboardData","setLoadingScores","setIsEditing","setUpdatedInfo","showAddSetDialog","setShowAddSetDialog","fieldsToUpdate","updatePromises","field","prev","name","value","fetchDataForClass","classDetails","sets","users","scores","message","handleDeleteStudent","CreateClass","buttonClicked","setButtonClicked","formData","setFormData","showSuccess","setShowSuccess","submitForm","IonTextarea","CreateSet","setTitle","setDescription","saveSet","hasError","setResponse","FlashcardListEditor","onAddCard","onRemoveCard","onUpdateCard","SetMetadataEditor","setName","onNameChange","onDescriptionChange","EditSet","originalSetDetails","setOriginalSetDetails","originalCards","setOriginalCards","editedSetName","setEditedSetName","editedSetDescription","setEditedSetDescription","setCards","isSaving","setIsSaving","saveError","setSaveError","fetchData","fetchedSetDetails","fetchedCards","handleSetDetailChange","newValue","addCard","newCard","removeCard","i","updateCard","handleSaveChanges","apiPromises","currentCardIds","originalCard","oc","IonPage","IonLoading","Flashcard","fetchSetDetails","fetchCards","handleAdvance","Home","classes","setClasses","setSets","classesLoading","setClassesLoading","setsLoading","setSetsLoading","fetchClassesOfUser","fetchSetsOfUser","listOutline","cls","IonCardSubtitle","Index","NotFound","location","useLocation","PublicFlashcards","searchText","setSearchText","filteredFlashcardSets","fetchSets","res","IonSearchbar","PublicClasses","classItem","SetOverview","loadingCards","setLoadingCards","setRes","handleDeleteSet","TeacherDashboard","isDialogOpen","setIsDialogOpen","teacherClasses","totalClasses","totalStudents","sum","totalSets","averageCardsMastered","InfoRow","UserAccountFirstRow","_b","_c","_d","_e","_f","_g","_h","_i","_j","_k","_l","_m","_n","UserAccountSecondRow","IonSelect","IonSelectOption","UserAccount","userInfo","setUserInfo","expandedClass","setExpandedClass","showPasswordAlert","setShowPasswordAlert","toggleClassDetails","classID","setupIonicReact","queryClient","QueryClient","App","QueryClientProvider","IonApp","IonReactRouter","Suspense","IonRouterOutlet","Route","PublicCards","container","root","createRoot"],"mappings":"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"}